# TripSage Next.js environment template (server-first)
# Copy to .env.local and fill values as needed. Never commit real secrets.

# ---------------------------------------------------------------------------
# Core URLs
# ---------------------------------------------------------------------------
NODE_ENV=development
CI=false
PORT=3000
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=TripSage
NEXT_PUBLIC_BASE_PATH=
NEXT_PUBLIC_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# ---------------------------------------------------------------------------
# Supabase
# ---------------------------------------------------------------------------
# Local Supabase: run `pnpm supabase:start`, then `pnpm supabase:status` for values.
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
# Supabase public key (client). Set ONE of:
# - NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY (preferred, `sb_publishable_...`)
# - NEXT_PUBLIC_SUPABASE_ANON_KEY (legacy name)
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# Supabase “service role” key (server)
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_JWT_SECRET=local-dev-jwt-secret-min-32-chars-xxxxxxxxxxxxxxxx
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres
MFA_BACKUP_CODE_PEPPER=changeme-min-16-chars

# Supabase vector tuning (pgvector/pg_cron) — consumed by 20251122000000_base_schema.sql
PGVECTOR_HNSW_M=32
PGVECTOR_HNSW_EF_CONSTRUCTION=180
PGVECTOR_HNSW_EF_SEARCH_DEFAULT=96
MEMORIES_RETENTION_DAYS=180

# ---------------------------------------------------------------------------
# Upstash / QStash (HTTP-only)
# ---------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
# Idempotency: set to "false" to fail closed when Redis is unavailable (default is fail-open)
IDEMPOTENCY_FAIL_OPEN=true
QSTASH_TOKEN=your-qstash-token
QSTASH_CURRENT_SIGNING_KEY=your-qstash-current-signing-key
QSTASH_NEXT_SIGNING_KEY=your-qstash-next-signing-key

# ---------------------------------------------------------------------------
# AI providers / gateway
# ---------------------------------------------------------------------------
AI_GATEWAY_API_KEY=
AI_GATEWAY_URL=https://ai-gateway.vercel.sh/v1
OPENAI_API_KEY=
OPENROUTER_API_KEY=
ANTHROPIC_API_KEY=
XAI_API_KEY=
TOGETHER_AI_API_KEY=
EMBEDDINGS_API_KEY=

# ---------------------------------------------------------------------------
# Search / crawling
# ---------------------------------------------------------------------------
FIRECRAWL_API_KEY=
FIRECRAWL_BASE_URL=https://api.firecrawl.dev/v2

# ---------------------------------------------------------------------------
# Maps / weather
# ---------------------------------------------------------------------------
# Server-only
GOOGLE_MAPS_API_KEY=
GOOGLE_MAPS_SERVER_API_KEY=
NEXT_PUBLIC_GOOGLE_MAPS_BROWSER_API_KEY=
OPENWEATHERMAP_API_KEY=

# ---------------------------------------------------------------------------
# Payments
# ---------------------------------------------------------------------------
STRIPE_SECRET_KEY=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# ---------------------------------------------------------------------------
# Email / notifications
# ---------------------------------------------------------------------------
RESEND_API_KEY=
RESEND_FROM_EMAIL=noreply@example.com
RESEND_FROM_NAME=TripSage
COLLAB_WEBHOOK_URL=
HMAC_SECRET=
MEM0_API_KEY=

# ---------------------------------------------------------------------------
# Travel APIs
# ---------------------------------------------------------------------------
AMADEUS_CLIENT_ID="your_amadeus_client_id_here" # Amadeus API client ID for flight search
DUFFEL_ACCESS_TOKEN=
DUFFEL_API_KEY=
EPS_API_KEY=
EPS_API_SECRET=
EPS_BASE_URL=https://api.ean.com/2/rapid
EPS_DEFAULT_CUSTOMER_IP=0.0.0.0
EPS_DEFAULT_USER_AGENT="TripSage/1.0 (+https://tripsage.ai)"

# ---------------------------------------------------------------------------
# Analytics (optional)
# ---------------------------------------------------------------------------
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
POSTHOG_HOST=https://app.posthog.com
POSTHOG_KEY=

# ---------------------------------------------------------------------------
# App integration
# ---------------------------------------------------------------------------
BACKEND_API_URL=http://localhost:8001

# ---------------------------------------------------------------------------
# Flags
# ---------------------------------------------------------------------------
ANALYZE=false
DEBUG=false
