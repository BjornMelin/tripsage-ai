# TripSage test environment (.env.test)
# Values are safe placeholders for running the automated test suite.

# ---- Core URLs ------------------------------------------------------------
NODE_ENV=test
CI=false
PORT=3000
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=TripSage
NEXT_PUBLIC_BASE_PATH=
NEXT_PUBLIC_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# ---- Supabase ------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
# Supabase public key for tests. Set ONE of:
# - NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY (preferred, `sb_publishable_...`)
# - NEXT_PUBLIC_SUPABASE_ANON_KEY (legacy name)
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=
NEXT_PUBLIC_SUPABASE_ANON_KEY=anon-test-key
SUPABASE_SERVICE_ROLE_KEY=service-role-test
SUPABASE_JWT_SECRET=changeme-min-32-chars-test-secret-1
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres
LOCAL_ANON_KEY=anon-test-key
LOCAL_SERVICE_ROLE_KEY=service-role-test
LOCAL_SUPABASE_URL=http://localhost:54321
SUPABASE_PROJECT_REF=test-project-ref
# Secret pepper used to hash/derive MFA backup codes; unique per deployment, ≥32 chars of randomness.
# Keep it secret (not committed publicly) and rotate carefully if changed to avoid invalidating existing codes.
MFA_BACKUP_CODE_PEPPER=test-backup-code-pepper-123456

# Supabase vector tuning (pgvector/pg_cron) — consumed by 20251122000000_base_schema.sql
PGVECTOR_HNSW_M=32
PGVECTOR_HNSW_EF_CONSTRUCTION=180
PGVECTOR_HNSW_EF_SEARCH_DEFAULT=96
MEMORIES_RETENTION_DAYS=180

# ---- Upstash / QStash (HTTP-only) -----------------------------------------
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
QSTASH_TOKEN=
QSTASH_CURRENT_SIGNING_KEY=
QSTASH_NEXT_SIGNING_KEY=
# Optional: local emulator endpoints (used by test:upstash:int)
#UPSTASH_USE_EMULATOR=1
#UPSTASH_EMULATOR_URL=http://localhost:8079
#UPSTASH_EMULATOR_TOKEN=test-emulator-token
#UPSTASH_QSTASH_DEV_URL=http://localhost:8081
#UPSTASH_QSTASH_DEV_TOKEN=test-qstash-dev-token

# Optional: live smoke (used by test:upstash:smoke)
#UPSTASH_SMOKE=1

# ---- AI providers / gateway ------------------------------------------------
AI_GATEWAY_API_KEY=
AI_GATEWAY_URL=https://ai-gateway.vercel.sh/v1
OPENAI_API_KEY=
OPENROUTER_API_KEY=
ANTHROPIC_API_KEY=
XAI_API_KEY=
TOGETHER_AI_API_KEY=
EMBEDDINGS_API_KEY=

# ---- Search / crawling -----------------------------------------------------
FIRECRAWL_API_KEY=
FIRECRAWL_BASE_URL=https://api.firecrawl.dev/v2

# ---- Maps / weather --------------------------------------------------------
GOOGLE_MAPS_SERVER_API_KEY=
NEXT_PUBLIC_GOOGLE_MAPS_BROWSER_API_KEY=
OPENWEATHERMAP_API_KEY=

# ---- Payments --------------------------------------------------------------
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# ---- Email / notifications -------------------------------------------------
RESEND_API_KEY=
RESEND_FROM_EMAIL=noreply@test.local
RESEND_FROM_NAME="TripSage QA"
COLLAB_WEBHOOK_URL=
HMAC_SECRET=
TELEMETRY_AI_DEMO_KEY=
TELEMETRY_HASH_SECRET=

# ---- Travel APIs -----------------------------------------------------------
DUFFEL_ACCESS_TOKEN=
DUFFEL_API_KEY=
EPS_API_KEY=
EPS_API_SECRET=
EPS_BASE_URL=https://api.ean.com/2/rapid
EPS_DEFAULT_CUSTOMER_IP=0.0.0.0
EPS_DEFAULT_USER_AGENT="TripSage/1.0 (+https://tripsage.ai)"
AMADEUS_CLIENT_ID=
AMADEUS_CLIENT_SECRET=
AMADEUS_ENV=test

# ---- Analytics (optional) --------------------------------------------------
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
POSTHOG_HOST=https://app.posthog.com
POSTHOG_KEY=

# ---- App integration -------------------------------------------------------
BACKEND_API_URL=http://localhost:8001

# ---- Flags -----------------------------------------------------------------
ANALYZE=false
DEBUG=true
ENABLE_AI_DEMO=false
