# TripSage test environment (.env.test)
# Values are safe placeholders for running the automated test suite.

# ---------------------------------------------------------------------------
# Core URLs
# ---------------------------------------------------------------------------
NODE_ENV=test
CI=false
PORT=3000
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=TripSage
NEXT_PUBLIC_BASE_PATH=
NEXT_PUBLIC_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# ---------------------------------------------------------------------------
# Supabase
# ---------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=anon-test-key
SUPABASE_SERVICE_ROLE_KEY=service-role-test
SUPABASE_JWT_SECRET=test-jwt-secret-123456
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres
LOCAL_ANON_KEY=anon-test-key
LOCAL_SERVICE_ROLE_KEY=service-role-test
LOCAL_SUPABASE_URL=http://localhost:54321
SUPABASE_PROJECT_REF=test-project-ref
MFA_BACKUP_CODE_PEPPER=test-backup-code-pepper-123456

# Supabase vector tuning (pgvector/pg_cron)
PGVECTOR_HNSW_M=32
PGVECTOR_HNSW_EF_CONSTRUCTION=180
PGVECTOR_HNSW_EF_SEARCH_DEFAULT=96
MEMORIES_RETENTION_DAYS=180

# ---------------------------------------------------------------------------
# Upstash / QStash (HTTP-only)
# ---------------------------------------------------------------------------
UPSTASH_REDIS_REST_URL=https://test-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=test-upstash-token
QSTASH_TOKEN=test-qstash-token
QSTASH_CURRENT_SIGNING_KEY=test-qstash-current
QSTASH_NEXT_SIGNING_KEY=test-qstash-next
# Optional: local emulator endpoints (used by test:upstash:int)
#UPSTASH_USE_EMULATOR=1
#UPSTASH_EMULATOR_URL=http://localhost:8079
#UPSTASH_EMULATOR_TOKEN=test-emulator-token
#UPSTASH_QSTASH_DEV_URL=http://localhost:8081
#UPSTASH_QSTASH_DEV_TOKEN=test-qstash-dev-token

# Optional: live smoke (used by test:upstash:smoke)
#UPSTASH_SMOKE=1

# ---------------------------------------------------------------------------
# AI providers / gateway
# ---------------------------------------------------------------------------
AI_GATEWAY_API_KEY=test-gateway-key
AI_GATEWAY_URL=https://ai-gateway.vercel.sh/v1
OPENAI_API_KEY=test-openai
OPENROUTER_API_KEY=test-openrouter
ANTHROPIC_API_KEY=test-anthropic
XAI_API_KEY=test-xai
EMBEDDINGS_API_KEY=test-embeddings

# ---------------------------------------------------------------------------
# Search / crawling
# ---------------------------------------------------------------------------
FIRECRAWL_API_KEY=test-firecrawl-key
FIRECRAWL_BASE_URL=https://api.firecrawl.dev/v2

# ---------------------------------------------------------------------------
# Maps / weather
# ---------------------------------------------------------------------------
GOOGLE_MAPS_SERVER_API_KEY=test-maps-server
NEXT_PUBLIC_GOOGLE_MAPS_BROWSER_API_KEY=test-maps-browser
OPENWEATHERMAP_API_KEY=test-weather

# ---------------------------------------------------------------------------
# Payments
# ---------------------------------------------------------------------------
STRIPE_SECRET_KEY=test-stripe-secret
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=test-stripe-pk

# ---------------------------------------------------------------------------
# Email / notifications
# ---------------------------------------------------------------------------
RESEND_API_KEY=test-resend-key
RESEND_FROM_EMAIL=noreply@test.local
RESEND_FROM_NAME=TripSage QA
COLLAB_WEBHOOK_URL=
HMAC_SECRET=test-hmac-secret
MEM0_API_KEY=

# ---------------------------------------------------------------------------
# Travel APIs
# ---------------------------------------------------------------------------
DUFFEL_ACCESS_TOKEN=test-duffel-token
DUFFEL_API_KEY=test-duffel-key
EPS_API_KEY=test-eps-key
EPS_API_SECRET=test-eps-secret
EPS_BASE_URL=https://api.ean.com/2/rapid
EPS_DEFAULT_CUSTOMER_IP=0.0.0.0
EPS_DEFAULT_USER_AGENT=TripSage/1.0 (+https://tripsage.ai)
AMADEUS_CLIENT_ID=test-amadeus-client-id
AMADEUS_CLIENT_SECRET=test-amadeus-client-secret
AMADEUS_ENV=test

# ---------------------------------------------------------------------------
# Analytics (optional)
# ---------------------------------------------------------------------------
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=
POSTHOG_HOST=https://app.posthog.com
POSTHOG_KEY=

# ---------------------------------------------------------------------------
# App integration
# ---------------------------------------------------------------------------
BACKEND_API_URL=http://localhost:8001

# ---------------------------------------------------------------------------
# Flags
# ---------------------------------------------------------------------------
ANALYZE=false
DEBUG=true
