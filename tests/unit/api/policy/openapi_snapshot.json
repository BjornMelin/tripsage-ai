{
  "components": {
    "examples": {
      "auth_token": {
        "description": "Response when user authentication is successful",
        "summary": "User authentication response",
        "value": {
          "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "expires_at": "2023-07-27T12:34:56.789Z",
          "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "token_type": "bearer"
        }
      },
      "error_response": {
        "description": "Response when an error occurs",
        "summary": "Error response",
        "value": {
          "details": {},
          "error_code": "error_code",
          "message": "Error message",
          "status": "error"
        }
      },
      "health_response": {
        "description": "Response when the health check is successful",
        "summary": "Health check response",
        "value": {
          "application": "TripSage API",
          "environment": "development",
          "status": "ok",
          "version": "1.0.0"
        }
      },
      "user_response": {
        "description": "Response with user information",
        "summary": "User information",
        "value": {
          "created_at": "2023-07-27T12:34:56.789Z",
          "email": "user@example.com",
          "full_name": "John Doe",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "updated_at": "2023-07-27T12:34:56.789Z"
        }
      }
    },
    "schemas": {
      "AccommodationAmenity": {
        "description": "Accommodation amenity information.",
        "properties": {
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Amenity category",
            "title": "Category"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Amenity description",
            "title": "Description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Amenity icon identifier",
            "title": "Icon"
          },
          "name": {
            "description": "Amenity name",
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "AccommodationAmenity",
        "type": "object"
      },
      "AccommodationDetailsRequest": {
        "description": "Request model for retrieving accommodation details.",
        "example": {
          "adults": 2,
          "check_in": "2025-07-12",
          "check_out": "2025-07-15",
          "children": 1,
          "listing_id": "listing-123",
          "source": "booking"
        },
        "properties": {
          "adults": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of adults",
            "title": "Adults"
          },
          "check_in": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Check-in date",
            "title": "Check In"
          },
          "check_out": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Check-out date",
            "title": "Check Out"
          },
          "children": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of children",
            "title": "Children"
          },
          "listing_id": {
            "description": "Listing ID",
            "title": "Listing Id",
            "type": "string"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Source of the listing (e.g., 'airbnb', 'booking')",
            "title": "Source"
          }
        },
        "required": [
          "listing_id"
        ],
        "title": "AccommodationDetailsRequest",
        "type": "object"
      },
      "AccommodationDetailsResponse": {
        "description": "API response for accommodation details.",
        "example": {
          "availability": true,
          "listing": {
            "currency": "USD",
            "description": "Modern loft near downtown",
            "id": "listing-123",
            "location": {
              "address": "123 Main St",
              "city": "New York",
              "country": "USA"
            },
            "max_guests": 2,
            "name": "Central City Loft",
            "price_per_night": 245.0,
            "property_type": "apartment"
          },
          "total_price": 985.0
        },
        "properties": {
          "availability": {
            "description": "Whether the accommodation is available for the dates",
            "title": "Availability",
            "type": "boolean"
          },
          "listing": {
            "$ref": "#/components/schemas/AccommodationListing",
            "description": "Accommodation listing"
          },
          "total_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total price for the stay (if dates provided)",
            "title": "Total Price"
          }
        },
        "required": [
          "listing",
          "availability"
        ],
        "title": "AccommodationDetailsResponse",
        "type": "object"
      },
      "AccommodationHost": {
        "description": "Accommodation host information.",
        "properties": {
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Host avatar URL",
            "title": "Avatar Url"
          },
          "id": {
            "description": "Host ID",
            "title": "Id",
            "type": "string"
          },
          "is_superhost": {
            "default": false,
            "description": "Whether host is a superhost",
            "title": "Is Superhost",
            "type": "boolean"
          },
          "name": {
            "description": "Host name",
            "title": "Name",
            "type": "string"
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Host rating",
            "title": "Rating"
          },
          "response_rate": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response rate",
            "title": "Response Rate"
          },
          "response_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response time",
            "title": "Response Time"
          },
          "review_count": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Host review count",
            "title": "Review Count"
          },
          "verification_badges": {
            "description": "Host verification badges",
            "items": {
              "type": "string"
            },
            "title": "Verification Badges",
            "type": "array"
          }
        },
        "required": [
          "id",
          "name"
        ],
        "title": "AccommodationHost",
        "type": "object"
      },
      "AccommodationImage": {
        "description": "Accommodation image information.",
        "properties": {
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image caption",
            "title": "Caption"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image height in pixels",
            "title": "Height"
          },
          "is_primary": {
            "default": false,
            "description": "Whether this is the primary image",
            "title": "Is Primary",
            "type": "boolean"
          },
          "url": {
            "description": "Image URL",
            "title": "Url",
            "type": "string"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image width in pixels",
            "title": "Width"
          }
        },
        "required": [
          "url"
        ],
        "title": "AccommodationImage",
        "type": "object"
      },
      "AccommodationListing": {
        "description": "Accommodation listing response model.",
        "properties": {
          "amenities": {
            "description": "Property amenities",
            "items": {
              "$ref": "#/components/schemas/AccommodationAmenity"
            },
            "title": "Amenities",
            "type": "array"
          },
          "bathrooms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of bathrooms",
            "title": "Bathrooms"
          },
          "bedrooms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of bedrooms",
            "title": "Bedrooms"
          },
          "beds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of beds",
            "title": "Beds"
          },
          "cancellation_policy": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CancellationPolicy"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cancellation policy"
          },
          "check_in_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Check-in time",
            "title": "Check In Time"
          },
          "check_out_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Check-out time",
            "title": "Check Out Time"
          },
          "currency": {
            "description": "Currency code",
            "title": "Currency",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Property description",
            "title": "Description"
          },
          "host": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationHost"
              },
              {
                "type": "null"
              }
            ],
            "description": "Host information"
          },
          "id": {
            "description": "Listing ID",
            "title": "Id",
            "type": "string"
          },
          "images": {
            "description": "Property images",
            "items": {
              "$ref": "#/components/schemas/AccommodationImage"
            },
            "title": "Images",
            "type": "array"
          },
          "instant_book": {
            "default": false,
            "description": "Whether instantly bookable",
            "title": "Instant Book",
            "type": "boolean"
          },
          "is_available": {
            "default": true,
            "description": "Whether available for search dates",
            "title": "Is Available",
            "type": "boolean"
          },
          "listing_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "URL to original listing",
            "title": "Listing Url"
          },
          "location": {
            "$ref": "#/components/schemas/AccommodationLocation",
            "description": "Property location"
          },
          "location_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Location convenience",
            "title": "Location Score"
          },
          "max_guests": {
            "description": "Maximum number of guests",
            "title": "Max Guests",
            "type": "integer"
          },
          "name": {
            "description": "Property name",
            "title": "Name",
            "type": "string"
          },
          "nights": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of nights for the search",
            "title": "Nights"
          },
          "price_per_night": {
            "description": "Price per night",
            "title": "Price Per Night",
            "type": "number"
          },
          "price_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Price competitiveness",
            "title": "Price Score"
          },
          "property_type": {
            "$ref": "#/components/schemas/PropertyType",
            "description": "Property type"
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Property rating",
            "title": "Rating"
          },
          "review_count": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of reviews",
            "title": "Review Count"
          },
          "score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Relevance score",
            "title": "Score"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Data source (airbnb, booking.com, etc.)",
            "title": "Source"
          },
          "source_listing_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Original listing ID from source",
            "title": "Source Listing Id"
          },
          "stored_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Timestamp when the listing snapshot was stored",
            "title": "Stored At"
          },
          "total_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total price for stay",
            "title": "Total Price"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User that stored the listing",
            "title": "User Id"
          }
        },
        "required": [
          "id",
          "name",
          "property_type",
          "location",
          "price_per_night",
          "currency",
          "max_guests"
        ],
        "title": "AccommodationListing",
        "type": "object"
      },
      "AccommodationLocation": {
        "description": "Accommodation location information.",
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Full address",
            "title": "Address"
          },
          "city": {
            "description": "City",
            "title": "City",
            "type": "string"
          },
          "country": {
            "description": "Country",
            "title": "Country",
            "type": "string"
          },
          "distance_to_center": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Distance to city center in km",
            "title": "Distance To Center"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude coordinate",
            "title": "Latitude"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude coordinate",
            "title": "Longitude"
          },
          "neighborhood": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Neighborhood name",
            "title": "Neighborhood"
          },
          "postal_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Postal/zip code",
            "title": "Postal Code"
          },
          "state": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "State/province",
            "title": "State"
          }
        },
        "required": [
          "city",
          "country"
        ],
        "title": "AccommodationLocation",
        "type": "object"
      },
      "AccommodationPreferences-Input": {
        "description": "Accommodation preferences for trips.",
        "properties": {
          "amenities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required amenities",
            "title": "Amenities"
          },
          "location_preference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Location preference (e.g., city_center, beach)",
            "title": "Location Preference"
          },
          "max_price_per_night": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price per night"
          },
          "min_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum rating",
            "title": "Min Rating"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred accommodation type"
          }
        },
        "title": "AccommodationPreferences",
        "type": "object"
      },
      "AccommodationPreferences-Output": {
        "description": "Accommodation preferences for trips.",
        "properties": {
          "amenities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required amenities",
            "title": "Amenities"
          },
          "location_preference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Location preference (e.g., city_center, beach)",
            "title": "Location Preference"
          },
          "max_price_per_night": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price per night"
          },
          "min_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum rating",
            "title": "Min Rating"
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred accommodation type"
          }
        },
        "title": "AccommodationPreferences",
        "type": "object"
      },
      "AccommodationSearchRequest-Output": {
        "description": "Request model for accommodation search.",
        "properties": {
          "accessibility_features": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required accessibility features",
            "title": "Accessibility Features"
          },
          "adults": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of adults",
            "title": "Adults"
          },
          "amenities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required amenities",
            "title": "Amenities"
          },
          "bathrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bathrooms",
            "title": "Bathrooms"
          },
          "bedrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bedrooms",
            "title": "Bedrooms"
          },
          "beds": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of beds",
            "title": "Beds"
          },
          "check_in": {
            "description": "Check-in date",
            "format": "date",
            "title": "Check In",
            "type": "string"
          },
          "check_out": {
            "description": "Check-out date",
            "format": "date",
            "title": "Check Out",
            "type": "string"
          },
          "children": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of children",
            "title": "Children"
          },
          "currency": {
            "default": "USD",
            "description": "Currency code",
            "title": "Currency",
            "type": "string"
          },
          "free_cancellation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for free cancellation",
            "title": "Free Cancellation"
          },
          "guests": {
            "default": 1,
            "description": "Number of guests",
            "maximum": 16.0,
            "minimum": 1.0,
            "title": "Guests",
            "type": "integer"
          },
          "infants": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of infants",
            "title": "Infants"
          },
          "instant_book": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for instant bookable properties",
            "title": "Instant Book"
          },
          "location": {
            "description": "Search location (city, address, etc.)",
            "title": "Location",
            "type": "string"
          },
          "max_distance_km": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum distance from center",
            "title": "Max Distance Km"
          },
          "max_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price per night",
            "title": "Max Price"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional client-provided context for the search",
            "title": "Metadata"
          },
          "min_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum price per night",
            "title": "Min Price"
          },
          "min_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum property rating",
            "title": "Min Rating"
          },
          "property_types": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PropertyType"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred property types",
            "title": "Property Types"
          },
          "sort_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "relevance",
            "description": "Sort criteria",
            "title": "Sort By"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "asc",
            "description": "Sort order (asc/desc)",
            "title": "Sort Order"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip identifier",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User performing the accommodation search",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "location",
          "check_in",
          "check_out"
        ],
        "title": "AccommodationSearchRequest",
        "type": "object"
      },
      "AccommodationSearchResponse": {
        "description": "Canonical API response model for accommodation search results.",
        "example": {
          "avg_price": 265.0,
          "cached": false,
          "listings": [
            {
              "currency": "USD",
              "id": "listing-123",
              "max_guests": 2,
              "name": "Central City Loft",
              "price_per_night": 245.0,
              "property_type": "apartment"
            }
          ],
          "max_price": 410.0,
          "min_price": 180.0,
          "results_returned": 10,
          "search_duration_ms": 320,
          "search_id": "search-abc123",
          "search_parameters": {
            "check_in": "2025-08-10",
            "check_out": "2025-08-14",
            "guests": 2,
            "location": "San Francisco"
          },
          "total_results": 42,
          "trip_id": "8c808086-7a9f-4a4a-8212-1c0857f0fa4f",
          "user_id": "user-42"
        },
        "properties": {
          "avg_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average price",
            "title": "Avg Price"
          },
          "cached": {
            "default": false,
            "description": "Whether results were cached",
            "title": "Cached",
            "type": "boolean"
          },
          "listings": {
            "description": "Search results",
            "items": {
              "$ref": "#/components/schemas/AccommodationListing"
            },
            "title": "Listings",
            "type": "array"
          },
          "max_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price found",
            "title": "Max Price"
          },
          "min_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum price found",
            "title": "Min Price"
          },
          "results_returned": {
            "description": "Number of results returned",
            "title": "Results Returned",
            "type": "integer"
          },
          "search_duration_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search duration in milliseconds",
            "title": "Search Duration Ms"
          },
          "search_id": {
            "description": "Search ID",
            "title": "Search Id",
            "type": "string"
          },
          "search_parameters": {
            "$ref": "#/components/schemas/AccommodationSearchRequest-Output",
            "description": "Original search parameters"
          },
          "total_results": {
            "description": "Total number of results",
            "title": "Total Results",
            "type": "integer"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip identifier",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User that initiated the search",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "search_id",
          "user_id",
          "listings",
          "search_parameters",
          "total_results",
          "results_returned"
        ],
        "title": "AccommodationSearchResponse",
        "type": "object"
      },
      "AccommodationType": {
        "description": "Types of accommodations available for booking.",
        "enum": [
          "hotel",
          "apartment",
          "hostel",
          "resort",
          "villa",
          "house",
          "bed_and_breakfast",
          "guest_house",
          "boutique_hotel",
          "cabin",
          "cottage",
          "other",
          "all"
        ],
        "title": "AccommodationType",
        "type": "string"
      },
      "ActivityCoordinates": {
        "description": "Geographic coordinates.",
        "properties": {
          "lat": {
            "description": "Latitude",
            "maximum": 90.0,
            "minimum": -90.0,
            "title": "Lat",
            "type": "number"
          },
          "lng": {
            "description": "Longitude",
            "maximum": 180.0,
            "minimum": -180.0,
            "title": "Lng",
            "type": "number"
          }
        },
        "required": [
          "lat",
          "lng"
        ],
        "title": "ActivityCoordinates",
        "type": "object"
      },
      "ActivityResponse": {
        "description": "Activity response model (matches legacy API shape).",
        "properties": {
          "availability": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Availability status",
            "title": "Availability"
          },
          "cancellation_policy": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cancellation policy",
            "title": "Cancellation Policy"
          },
          "coordinates": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ActivityCoordinates"
              },
              {
                "type": "null"
              }
            ],
            "description": "Geographic coordinates"
          },
          "date": {
            "description": "Activity date (ISO format)",
            "title": "Date",
            "type": "string"
          },
          "description": {
            "description": "Activity description",
            "title": "Description",
            "type": "string"
          },
          "duration": {
            "description": "Duration in minutes",
            "minimum": 0.0,
            "title": "Duration",
            "type": "integer"
          },
          "excluded": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "What's not included",
            "title": "Excluded"
          },
          "id": {
            "description": "Activity ID",
            "title": "Id",
            "type": "string"
          },
          "images": {
            "description": "Activity images",
            "items": {
              "type": "string"
            },
            "title": "Images",
            "type": "array"
          },
          "included": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "What's included",
            "title": "Included"
          },
          "instant_confirmation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Instant confirmation available",
            "title": "Instant Confirmation"
          },
          "languages": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Available languages",
            "title": "Languages"
          },
          "location": {
            "description": "Activity location",
            "title": "Location",
            "type": "string"
          },
          "max_participants": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum participants",
            "title": "Max Participants"
          },
          "meeting_point": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Meeting point details",
            "title": "Meeting Point"
          },
          "min_participants": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum participants",
            "title": "Min Participants"
          },
          "name": {
            "description": "Activity name",
            "title": "Name",
            "type": "string"
          },
          "price": {
            "description": "Price per person",
            "minimum": 0.0,
            "title": "Price",
            "type": "number"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Activity provider name",
            "title": "Provider"
          },
          "rating": {
            "description": "Average rating",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Rating",
            "type": "number"
          },
          "type": {
            "description": "Activity type (tour, museum, adventure, etc.)",
            "title": "Type",
            "type": "string"
          },
          "wheelchair_accessible": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Wheelchair accessibility",
            "title": "Wheelchair Accessible"
          }
        },
        "required": [
          "id",
          "name",
          "type",
          "location",
          "date",
          "duration",
          "price",
          "rating",
          "description"
        ],
        "title": "ActivityResponse",
        "type": "object"
      },
      "ActivitySearchRequest": {
        "description": "Activity search request parameters.",
        "properties": {
          "adults": {
            "default": 1,
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Adults",
            "type": "integer"
          },
          "categories": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Categories"
          },
          "children": {
            "default": 0,
            "maximum": 20.0,
            "minimum": 0.0,
            "title": "Children",
            "type": "integer"
          },
          "destination": {
            "title": "Destination",
            "type": "string"
          },
          "duration": {
            "anyOf": [
              {
                "maximum": 1440.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration"
          },
          "end_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "free_cancellation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Free Cancellation"
          },
          "infants": {
            "default": 0,
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Infants",
            "type": "integer"
          },
          "instant_confirmation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instant Confirmation"
          },
          "price_range": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PriceRange"
              },
              {
                "type": "null"
              }
            ]
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "start_date": {
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "wheelchair_accessible": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Wheelchair Accessible"
          }
        },
        "required": [
          "destination",
          "start_date"
        ],
        "title": "ActivitySearchRequest",
        "type": "object"
      },
      "ActivitySearchResponse": {
        "description": "Aggregate search results with metadata.",
        "properties": {
          "activities": {
            "items": {
              "$ref": "#/components/schemas/ActivityResponse"
            },
            "title": "Activities",
            "type": "array"
          },
          "cached": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cached"
          },
          "filters_applied": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Filters Applied"
          },
          "limit": {
            "default": 20,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          },
          "provider_responses": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Responses"
          },
          "search_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Id"
          },
          "skip": {
            "default": 0,
            "minimum": 0.0,
            "title": "Skip",
            "type": "integer"
          },
          "total": {
            "default": 0,
            "minimum": 0.0,
            "title": "Total",
            "type": "integer"
          }
        },
        "title": "ActivitySearchResponse",
        "type": "object"
      },
      "AgentConfigRequest": {
        "additionalProperties": false,
        "description": "Request schema for agent configuration updates with advanced validation.",
        "properties": {
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of configuration changes",
            "title": "Description"
          },
          "max_tokens": {
            "anyOf": [
              {
                "description": "Maximum tokens in response (affects cost and response length)",
                "maximum": 8000.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens"
          },
          "model": {
            "anyOf": [
              {
                "pattern": "^(gpt-4|gpt-4-turbo|gpt-4o|gpt-4o-mini|gpt-5|gpt-5-mini|gpt-5-nano|claude-4.5-sonnet|claude-4.5-haiku)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "AI model to use for this agent",
            "title": "Model"
          },
          "temperature": {
            "anyOf": [
              {
                "description": "Controls randomness in responses (0.0=deterministic, 2.0=very creative)",
                "maximum": 2.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "description": "Request timeout in seconds",
                "maximum": 300.0,
                "minimum": 5.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timeout Seconds"
          },
          "top_p": {
            "anyOf": [
              {
                "description": "Nucleus sampling parameter (0.1=focused, 1.0=diverse)",
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Top P"
          }
        },
        "title": "AgentConfigRequest",
        "type": "object"
      },
      "AgentConfigResponse": {
        "additionalProperties": false,
        "description": "Response schema for agent configuration with computed metrics.",
        "properties": {
          "agent_type": {
            "$ref": "#/components/schemas/AgentType"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "creativity_level": {
            "description": "Categorize the creativity level based on temperature.",
            "readOnly": true,
            "title": "Creativity Level",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "estimated_cost_per_1k_tokens": {
            "description": "Calculate estimated cost per 1000 tokens for this configuration.",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "readOnly": true,
            "title": "Estimated Cost Per 1K Tokens",
            "type": "string"
          },
          "is_active": {
            "default": true,
            "title": "Is Active",
            "type": "boolean"
          },
          "max_tokens": {
            "maximum": 8000.0,
            "minimum": 1.0,
            "title": "Max Tokens",
            "type": "integer"
          },
          "model": {
            "pattern": "^(gpt-4|gpt-4-turbo|gpt-4o|gpt-4o-mini|gpt-3.5-turbo|claude-3-sonnet|claude-3-haiku)$",
            "title": "Model",
            "type": "string"
          },
          "performance_tier": {
            "description": "Determine performance tier based on model and settings.",
            "readOnly": true,
            "title": "Performance Tier",
            "type": "string"
          },
          "response_size_category": {
            "description": "Categorize response size based on max_tokens.",
            "readOnly": true,
            "title": "Response Size Category",
            "type": "string"
          },
          "scope": {
            "$ref": "#/components/schemas/ConfigurationScope"
          },
          "temperature": {
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Temperature",
            "type": "number"
          },
          "timeout_seconds": {
            "maximum": 300.0,
            "minimum": 5.0,
            "title": "Timeout Seconds",
            "type": "integer"
          },
          "top_p": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Top P",
            "type": "number"
          },
          "updated_at": {
            "title": "Updated At",
            "type": "string"
          },
          "updated_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated By"
          }
        },
        "required": [
          "agent_type",
          "temperature",
          "max_tokens",
          "top_p",
          "timeout_seconds",
          "model",
          "scope",
          "estimated_cost_per_1k_tokens",
          "creativity_level",
          "response_size_category",
          "performance_tier"
        ],
        "title": "AgentConfigResponse",
        "type": "object"
      },
      "AgentType": {
        "description": "Enumeration of available agent types with metadata.",
        "enum": [
          "budget_agent",
          "destination_research_agent",
          "itinerary_agent"
        ],
        "title": "AgentType",
        "type": "string"
      },
      "AlertInfoResponse": {
        "description": "Alert information response.",
        "properties": {
          "acknowledged": {
            "default": false,
            "description": "Whether alert is acknowledged",
            "title": "Acknowledged",
            "type": "boolean"
          },
          "acknowledged_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Acknowledgment time",
            "title": "Acknowledged At"
          },
          "acknowledged_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User who acknowledged",
            "title": "Acknowledged By"
          },
          "alert_id": {
            "description": "Unique alert ID",
            "title": "Alert Id",
            "type": "string"
          },
          "alert_type": {
            "$ref": "#/components/schemas/AlertType",
            "description": "Type of alert"
          },
          "created_at": {
            "description": "Alert creation time",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "details": {
            "additionalProperties": true,
            "description": "Additional alert details",
            "title": "Details",
            "type": "object"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Related endpoint",
            "title": "Endpoint"
          },
          "key_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Related API key ID",
            "title": "Key Id"
          },
          "message": {
            "description": "Alert message",
            "title": "Message",
            "type": "string"
          },
          "resolution_steps": {
            "description": "Suggested resolution steps",
            "items": {
              "type": "string"
            },
            "title": "Resolution Steps",
            "type": "array"
          },
          "service": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Related service",
            "title": "Service"
          },
          "severity": {
            "$ref": "#/components/schemas/AlertSeverity",
            "description": "Alert severity"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Alert last update time",
            "title": "Updated At"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Related user ID",
            "title": "User Id"
          }
        },
        "required": [
          "alert_id",
          "severity",
          "alert_type",
          "message",
          "created_at"
        ],
        "title": "AlertInfoResponse",
        "type": "object"
      },
      "AlertSeverity": {
        "description": "Alert severity levels.",
        "enum": [
          "low",
          "medium",
          "high",
          "critical"
        ],
        "title": "AlertSeverity",
        "type": "string"
      },
      "AlertType": {
        "description": "Types of alerts.",
        "enum": [
          "spike",
          "drop",
          "error_rate",
          "latency",
          "pattern",
          "security",
          "rate_limit"
        ],
        "title": "AlertType",
        "type": "string"
      },
      "ApiKeyCreate": {
        "description": "API key creation request model.",
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "expires_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "key": {
            "title": "Key",
            "type": "string"
          },
          "name": {
            "maxLength": 255,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          },
          "service": {
            "maxLength": 255,
            "minLength": 1,
            "title": "Service",
            "type": "string"
          }
        },
        "required": [
          "name",
          "service",
          "key"
        ],
        "title": "ApiKeyCreate",
        "type": "object"
      },
      "ApiKeyResponse": {
        "description": "API key response model.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "expires_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "is_valid": {
            "default": true,
            "title": "Is Valid",
            "type": "boolean"
          },
          "last_used": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Used"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "service": {
            "title": "Service",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "service",
          "created_at",
          "updated_at"
        ],
        "title": "ApiKeyResponse",
        "type": "object"
      },
      "ApiKeyRotateRequest": {
        "description": "API key rotation request model.",
        "properties": {
          "new_key": {
            "title": "New Key",
            "type": "string"
          }
        },
        "required": [
          "new_key"
        ],
        "title": "ApiKeyRotateRequest",
        "type": "object"
      },
      "ApiKeyValidateRequest": {
        "description": "API key validation request model.",
        "properties": {
          "key": {
            "title": "Key",
            "type": "string"
          },
          "service": {
            "title": "Service",
            "type": "string"
          }
        },
        "required": [
          "key",
          "service"
        ],
        "title": "ApiKeyValidateRequest",
        "type": "object"
      },
      "ApiKeyValidateResponse": {
        "description": "API key validation response model.",
        "properties": {
          "is_valid": {
            "title": "Is Valid",
            "type": "boolean"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "service": {
            "title": "Service",
            "type": "string"
          }
        },
        "required": [
          "is_valid",
          "service",
          "message"
        ],
        "title": "ApiKeyValidateResponse",
        "type": "object"
      },
      "BatchUploadResponse": {
        "description": "Response for a batch file upload operation.",
        "properties": {
          "files": {
            "description": "Processed files",
            "items": {
              "$ref": "#/components/schemas/FileUploadResponse"
            },
            "title": "Files",
            "type": "array"
          },
          "total_files": {
            "description": "Total files processed",
            "title": "Total Files",
            "type": "integer"
          },
          "total_size": {
            "description": "Total size in bytes",
            "title": "Total Size",
            "type": "integer"
          }
        },
        "required": [
          "files",
          "total_files",
          "total_size"
        ],
        "title": "BatchUploadResponse",
        "type": "object"
      },
      "Body_upload_file_api_attachments_upload_post": {
        "properties": {
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "principal": {
            "$ref": "#/components/schemas/Principal"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_upload_file_api_attachments_upload_post",
        "type": "object"
      },
      "Body_upload_files_batch_api_attachments_upload_batch_post": {
        "properties": {
          "files": {
            "items": {
              "format": "binary",
              "type": "string"
            },
            "title": "Files",
            "type": "array"
          },
          "principal": {
            "$ref": "#/components/schemas/Principal"
          }
        },
        "required": [
          "files"
        ],
        "title": "Body_upload_files_batch_api_attachments_upload_batch_post",
        "type": "object"
      },
      "Budget-Input": {
        "description": "Budget allocation and tracking.",
        "properties": {
          "allocated": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Allocated amount"
          },
          "categories": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/Price-Input"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Budget by category",
            "title": "Categories"
          },
          "remaining": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Remaining amount"
          },
          "spent": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Spent amount"
          },
          "total_budget": {
            "$ref": "#/components/schemas/Price-Input",
            "description": "Total budget amount"
          }
        },
        "required": [
          "total_budget"
        ],
        "title": "Budget",
        "type": "object"
      },
      "Budget-Output": {
        "description": "Budget allocation and tracking.",
        "properties": {
          "allocated": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Allocated amount"
          },
          "categories": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/Price-Output"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Budget by category",
            "title": "Categories"
          },
          "remaining": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Remaining amount"
          },
          "spent": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Price-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Spent amount"
          },
          "total_budget": {
            "$ref": "#/components/schemas/Price-Output",
            "description": "Total budget amount"
          }
        },
        "required": [
          "total_budget"
        ],
        "title": "Budget",
        "type": "object"
      },
      "CabinClass": {
        "description": "Flight cabin classes.",
        "enum": [
          "economy",
          "premium_economy",
          "business",
          "first"
        ],
        "title": "CabinClass",
        "type": "string"
      },
      "CancellationPolicy": {
        "description": "Cancellation policy enumeration.",
        "enum": [
          "flexible",
          "moderate",
          "strict",
          "super_strict",
          "free_cancellation",
          "no_refund"
        ],
        "title": "CancellationPolicy",
        "type": "string"
      },
      "ChatMessage": {
        "description": "Common model for chat messages.",
        "properties": {
          "content": {
            "description": "Message content",
            "maxLength": 32768,
            "title": "Content",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Message metadata",
            "title": "Metadata"
          },
          "role": {
            "$ref": "#/components/schemas/MessageRole",
            "description": "Message role (user/assistant/system)"
          },
          "timestamp": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Message timestamp",
            "title": "Timestamp"
          },
          "tool_calls": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ToolCall"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tool calls made",
            "title": "Tool Calls"
          }
        },
        "required": [
          "role",
          "content"
        ],
        "title": "ChatMessage",
        "type": "object"
      },
      "ChatRequest": {
        "description": "Chat API request.",
        "properties": {
          "max_tokens": {
            "anyOf": [
              {
                "maximum": 4096.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum tokens to generate",
            "title": "Max Tokens"
          },
          "messages": {
            "description": "Chat messages",
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "title": "Messages",
            "type": "array"
          },
          "save_history": {
            "default": true,
            "description": "Whether to save chat history",
            "title": "Save History",
            "type": "boolean"
          },
          "session_id": {
            "anyOf": [
              {
                "format": "uuid",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Session ID for context",
            "title": "Session Id"
          },
          "stream": {
            "default": true,
            "description": "Whether to stream the response",
            "title": "Stream",
            "type": "boolean"
          },
          "temperature": {
            "anyOf": [
              {
                "maximum": 2.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Model temperature",
            "title": "Temperature"
          },
          "tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific tools to enable for this request",
            "title": "Tools"
          }
        },
        "required": [
          "messages"
        ],
        "title": "ChatRequest",
        "type": "object"
      },
      "ChatResponse": {
        "description": "Chat API response for non-streaming requests.",
        "properties": {
          "content": {
            "description": "Response content",
            "title": "Content",
            "type": "string"
          },
          "created_at": {
            "description": "Response timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "finish_reason": {
            "default": "stop",
            "description": "Finish reason",
            "title": "Finish Reason",
            "type": "string"
          },
          "id": {
            "description": "Response ID",
            "format": "uuid",
            "title": "Id",
            "type": "string"
          },
          "session_id": {
            "anyOf": [
              {
                "format": "uuid",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Session ID",
            "title": "Session Id"
          },
          "tool_calls": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/ToolCall"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tool calls made",
            "title": "Tool Calls"
          },
          "usage": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "integer"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Token usage information",
            "title": "Usage"
          }
        },
        "required": [
          "content"
        ],
        "title": "ChatResponse",
        "type": "object"
      },
      "ClimateType": {
        "description": "Climate type enumeration.",
        "enum": [
          "tropical",
          "subtropical",
          "temperate",
          "continental",
          "arid",
          "mediterranean",
          "arctic",
          "alpine"
        ],
        "title": "ClimateType",
        "type": "string"
      },
      "ConfigurationScope": {
        "description": "Enumeration of configuration scopes.",
        "enum": [
          "global",
          "environment",
          "agent_specific",
          "user_override"
        ],
        "title": "ConfigurationScope",
        "type": "string"
      },
      "ConfigurationVersion-Input": {
        "additionalProperties": false,
        "description": "Schema for configuration version history with enhanced metadata.",
        "properties": {
          "agent_type": {
            "$ref": "#/components/schemas/AgentType"
          },
          "configuration": {
            "additionalProperties": true,
            "description": "Configuration snapshot",
            "title": "Configuration",
            "type": "object"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "created_by": {
            "title": "Created By",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "is_current": {
            "default": false,
            "title": "Is Current",
            "type": "boolean"
          },
          "scope": {
            "$ref": "#/components/schemas/ConfigurationScope"
          },
          "version_id": {
            "description": "Unique version identifier",
            "maxLength": 20,
            "minLength": 10,
            "pattern": "^v\\d+_[a-f0-9]{8}$",
            "title": "Version Id",
            "type": "string"
          }
        },
        "required": [
          "version_id",
          "agent_type",
          "configuration",
          "scope",
          "created_by"
        ],
        "title": "ConfigurationVersion",
        "type": "object"
      },
      "ConfigurationVersion-Output": {
        "additionalProperties": false,
        "description": "Schema for configuration version history with enhanced metadata.",
        "properties": {
          "age_in_days": {
            "description": "Calculate age of this version in days.",
            "readOnly": true,
            "title": "Age In Days",
            "type": "integer"
          },
          "agent_type": {
            "$ref": "#/components/schemas/AgentType"
          },
          "configuration": {
            "additionalProperties": true,
            "description": "Configuration snapshot",
            "title": "Configuration",
            "type": "object"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "created_by": {
            "title": "Created By",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "is_current": {
            "default": false,
            "title": "Is Current",
            "type": "boolean"
          },
          "is_recent": {
            "description": "Check if this version was created recently (within 7 days).",
            "readOnly": true,
            "title": "Is Recent",
            "type": "boolean"
          },
          "scope": {
            "$ref": "#/components/schemas/ConfigurationScope"
          },
          "version_id": {
            "description": "Unique version identifier",
            "maxLength": 20,
            "minLength": 10,
            "pattern": "^v\\d+_[a-f0-9]{8}$",
            "title": "Version Id",
            "type": "string"
          }
        },
        "required": [
          "version_id",
          "agent_type",
          "configuration",
          "scope",
          "created_by",
          "age_in_days",
          "is_recent"
        ],
        "title": "ConfigurationVersion",
        "type": "object"
      },
      "ConversationMemoryRequest": {
        "description": "Request payload for adding conversation memory.",
        "properties": {
          "context_type": {
            "default": "travel_planning",
            "description": "Context type",
            "title": "Context Type",
            "type": "string"
          },
          "messages": {
            "description": "Conversation messages",
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "title": "Messages",
            "type": "array"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Session ID",
            "title": "Session Id"
          }
        },
        "required": [
          "messages"
        ],
        "title": "ConversationMemoryRequest",
        "type": "object"
      },
      "Coordinates": {
        "description": "Geographic coordinates.",
        "properties": {
          "altitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Altitude in meters",
            "title": "Altitude"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude in decimal degrees",
            "title": "Latitude"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude in decimal degrees",
            "title": "Longitude"
          }
        },
        "required": [
          "latitude",
          "longitude"
        ],
        "title": "Coordinates",
        "type": "object"
      },
      "CreateMessageRequest": {
        "description": "Request model for creating a message in a session.",
        "properties": {
          "content": {
            "description": "Message content",
            "title": "Content",
            "type": "string"
          },
          "role": {
            "default": "user",
            "description": "Message role",
            "title": "Role",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "CreateMessageRequest",
        "type": "object"
      },
      "CreateTripRequest": {
        "description": "Request model for creating a trip.",
        "example": {
          "description": "Ten-day cultural tour",
          "destinations": [
            {
              "city": "Paris",
              "country": "France",
              "name": "Paris"
            },
            {
              "city": "Rome",
              "country": "Italy",
              "name": "Rome"
            }
          ],
          "end_date": "2025-06-10",
          "start_date": "2025-06-01",
          "title": "European Highlights"
        },
        "properties": {
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip description",
            "title": "Description"
          },
          "destinations": {
            "description": "Trip destinations",
            "items": {
              "$ref": "#/components/schemas/TripDestination"
            },
            "minItems": 1,
            "title": "Destinations",
            "type": "array"
          },
          "end_date": {
            "description": "Trip end date",
            "format": "date",
            "title": "End Date",
            "type": "string"
          },
          "preferences": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TripPreferences-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip preferences"
          },
          "start_date": {
            "description": "Trip start date",
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "title": {
            "description": "Trip title",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title",
          "start_date",
          "end_date",
          "destinations"
        ],
        "title": "CreateTripRequest",
        "type": "object"
      },
      "CurrencyCode": {
        "description": "ISO 4217 currency codes for the most common currencies.",
        "enum": [
          "USD",
          "EUR",
          "GBP",
          "JPY",
          "CAD",
          "AUD",
          "CHF",
          "CNY",
          "SEK",
          "NZD",
          "NOK",
          "DKK",
          "PLN",
          "CZK",
          "HUF",
          "RUB",
          "BRL",
          "INR",
          "KRW",
          "SGD",
          "HKD",
          "MXN",
          "ZAR",
          "TRY",
          "THB"
        ],
        "title": "CurrencyCode",
        "type": "string"
      },
      "DeleteFileResponse": {
        "description": "Confirmation for a deletion request.",
        "properties": {
          "file_id": {
            "title": "File Id",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message",
          "file_id"
        ],
        "title": "DeleteFileResponse",
        "type": "object"
      },
      "Destination-Input": {
        "description": "Comprehensive destination information.",
        "properties": {
          "best_time_to_visit": {
            "description": "Best months to visit",
            "items": {
              "type": "string"
            },
            "title": "Best Time To Visit",
            "type": "array"
          },
          "categories": {
            "description": "Destination categories",
            "items": {
              "$ref": "#/components/schemas/DestinationCategory"
            },
            "title": "Categories",
            "type": "array"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "City",
            "title": "City"
          },
          "country": {
            "description": "Country",
            "title": "Country",
            "type": "string"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Local currency code",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brief description",
            "title": "Description"
          },
          "id": {
            "description": "Destination ID",
            "title": "Id",
            "type": "string"
          },
          "images": {
            "description": "Destination images",
            "items": {
              "$ref": "#/components/schemas/DestinationImage"
            },
            "title": "Images",
            "type": "array"
          },
          "languages": {
            "description": "Primary languages",
            "items": {
              "type": "string"
            },
            "title": "Languages",
            "type": "array"
          },
          "last_updated": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last updated timestamp",
            "title": "Last Updated"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude coordinate",
            "title": "Latitude"
          },
          "local_transportation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Local transportation options",
            "title": "Local Transportation"
          },
          "long_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed description",
            "title": "Long Description"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude coordinate",
            "title": "Longitude"
          },
          "name": {
            "description": "Destination name",
            "title": "Name",
            "type": "string"
          },
          "points_of_interest": {
            "description": "POIs",
            "items": {
              "$ref": "#/components/schemas/PointOfInterest"
            },
            "title": "Points Of Interest",
            "type": "array"
          },
          "popular_activities": {
            "description": "Popular activities",
            "items": {
              "type": "string"
            },
            "title": "Popular Activities",
            "type": "array"
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Overall rating",
            "title": "Rating"
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Region/state/province",
            "title": "Region"
          },
          "relevance_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search relevance score",
            "title": "Relevance Score"
          },
          "review_count": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of reviews",
            "title": "Review Count"
          },
          "safety_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Safety rating",
            "title": "Safety Rating"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Data source",
            "title": "Source"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Timezone",
            "title": "Timezone"
          },
          "travel_advisory": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TravelAdvisory"
              },
              {
                "type": "null"
              }
            ],
            "description": "Travel advisory"
          },
          "visa_requirements": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Visa requirements",
            "title": "Visa Requirements"
          },
          "weather": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DestinationWeather"
              },
              {
                "type": "null"
              }
            ],
            "description": "Weather information"
          }
        },
        "required": [
          "id",
          "name",
          "country"
        ],
        "title": "Destination",
        "type": "object"
      },
      "Destination-Output": {
        "description": "Comprehensive destination information.",
        "properties": {
          "best_time_to_visit": {
            "description": "Best months to visit",
            "items": {
              "type": "string"
            },
            "title": "Best Time To Visit",
            "type": "array"
          },
          "categories": {
            "description": "Destination categories",
            "items": {
              "$ref": "#/components/schemas/DestinationCategory"
            },
            "title": "Categories",
            "type": "array"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "City",
            "title": "City"
          },
          "country": {
            "description": "Country",
            "title": "Country",
            "type": "string"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Local currency code",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Brief description",
            "title": "Description"
          },
          "id": {
            "description": "Destination ID",
            "title": "Id",
            "type": "string"
          },
          "images": {
            "description": "Destination images",
            "items": {
              "$ref": "#/components/schemas/DestinationImage"
            },
            "title": "Images",
            "type": "array"
          },
          "languages": {
            "description": "Primary languages",
            "items": {
              "type": "string"
            },
            "title": "Languages",
            "type": "array"
          },
          "last_updated": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last updated timestamp",
            "title": "Last Updated"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude coordinate",
            "title": "Latitude"
          },
          "local_transportation": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Local transportation options",
            "title": "Local Transportation"
          },
          "long_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed description",
            "title": "Long Description"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude coordinate",
            "title": "Longitude"
          },
          "name": {
            "description": "Destination name",
            "title": "Name",
            "type": "string"
          },
          "points_of_interest": {
            "description": "POIs",
            "items": {
              "$ref": "#/components/schemas/PointOfInterest"
            },
            "title": "Points Of Interest",
            "type": "array"
          },
          "popular_activities": {
            "description": "Popular activities",
            "items": {
              "type": "string"
            },
            "title": "Popular Activities",
            "type": "array"
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Overall rating",
            "title": "Rating"
          },
          "region": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Region/state/province",
            "title": "Region"
          },
          "relevance_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search relevance score",
            "title": "Relevance Score"
          },
          "review_count": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of reviews",
            "title": "Review Count"
          },
          "safety_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Safety rating",
            "title": "Safety Rating"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Data source",
            "title": "Source"
          },
          "timezone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Timezone",
            "title": "Timezone"
          },
          "travel_advisory": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TravelAdvisory"
              },
              {
                "type": "null"
              }
            ],
            "description": "Travel advisory"
          },
          "visa_requirements": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Visa requirements",
            "title": "Visa Requirements"
          },
          "weather": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DestinationWeather"
              },
              {
                "type": "null"
              }
            ],
            "description": "Weather information"
          }
        },
        "required": [
          "id",
          "name",
          "country"
        ],
        "title": "Destination",
        "type": "object"
      },
      "DestinationCategory": {
        "description": "Destination category enumeration.",
        "enum": [
          "city",
          "beach",
          "mountain",
          "countryside",
          "historical",
          "cultural",
          "adventure",
          "relaxation",
          "food_and_wine",
          "wildlife",
          "business",
          "other"
        ],
        "title": "DestinationCategory",
        "type": "string"
      },
      "DestinationImage": {
        "description": "Destination image information.",
        "properties": {
          "attribution": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image attribution/source",
            "title": "Attribution"
          },
          "caption": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image caption",
            "title": "Caption"
          },
          "height": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image height in pixels",
            "title": "Height"
          },
          "is_primary": {
            "default": false,
            "description": "Whether this is the primary image",
            "title": "Is Primary",
            "type": "boolean"
          },
          "url": {
            "description": "Image URL",
            "title": "Url",
            "type": "string"
          },
          "width": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Image width in pixels",
            "title": "Width"
          }
        },
        "required": [
          "url"
        ],
        "title": "DestinationImage",
        "type": "object"
      },
      "DestinationRecommendation-Input": {
        "description": "Destination recommendation with reasoning.",
        "properties": {
          "best_for": {
            "description": "What this destination is best for",
            "items": {
              "type": "string"
            },
            "title": "Best For",
            "type": "array"
          },
          "destination": {
            "$ref": "#/components/schemas/Destination-Input",
            "description": "Recommended destination"
          },
          "estimated_cost": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Estimated costs",
            "title": "Estimated Cost"
          },
          "match_score": {
            "description": "Recommendation match score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Match Score",
            "type": "number"
          },
          "reasons": {
            "description": "Reasons for recommendation",
            "items": {
              "type": "string"
            },
            "title": "Reasons",
            "type": "array"
          }
        },
        "required": [
          "destination",
          "match_score",
          "reasons"
        ],
        "title": "DestinationRecommendation",
        "type": "object"
      },
      "DestinationRecommendation-Output": {
        "description": "Destination recommendation with reasoning.",
        "properties": {
          "best_for": {
            "description": "What this destination is best for",
            "items": {
              "type": "string"
            },
            "title": "Best For",
            "type": "array"
          },
          "destination": {
            "$ref": "#/components/schemas/Destination-Output",
            "description": "Recommended destination"
          },
          "estimated_cost": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Estimated costs",
            "title": "Estimated Cost"
          },
          "match_score": {
            "description": "Recommendation match score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Match Score",
            "type": "number"
          },
          "reasons": {
            "description": "Reasons for recommendation",
            "items": {
              "type": "string"
            },
            "title": "Reasons",
            "type": "array"
          }
        },
        "required": [
          "destination",
          "match_score",
          "reasons"
        ],
        "title": "DestinationRecommendation",
        "type": "object"
      },
      "DestinationRecommendationRequest": {
        "description": "Request model for destination recommendations.",
        "properties": {
          "accessibility_needs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accessibility requirements",
            "title": "Accessibility Needs"
          },
          "budget_range": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Budget range in USD",
            "title": "Budget Range"
          },
          "group_size": {
            "anyOf": [
              {
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Travel group size",
            "title": "Group Size"
          },
          "limit": {
            "default": 5,
            "description": "Maximum recommendations",
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          },
          "previous_destinations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Previously visited destinations",
            "title": "Previous Destinations"
          },
          "travel_dates": {
            "anyOf": [
              {
                "items": {
                  "format": "date",
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Potential travel dates",
            "title": "Travel Dates"
          },
          "travel_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Travel style preference",
            "title": "Travel Style"
          },
          "trip_duration_days": {
            "anyOf": [
              {
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip duration",
            "title": "Trip Duration Days"
          },
          "user_interests": {
            "description": "User interests",
            "items": {
              "type": "string"
            },
            "title": "User Interests",
            "type": "array"
          }
        },
        "required": [
          "user_interests"
        ],
        "title": "DestinationRecommendationRequest",
        "type": "object"
      },
      "DestinationSearchRequest": {
        "description": "Request model for destination search.",
        "properties": {
          "budget_range": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Budget range in USD",
            "title": "Budget Range"
          },
          "categories": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/DestinationCategory"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred categories",
            "title": "Categories"
          },
          "climate_preference": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ClimateType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred climate type"
          },
          "continent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred continent",
            "title": "Continent"
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred country",
            "title": "Country"
          },
          "include_advisory": {
            "default": true,
            "description": "Include travel advisory",
            "title": "Include Advisory",
            "type": "boolean"
          },
          "include_pois": {
            "default": true,
            "description": "Include points of interest",
            "title": "Include Pois",
            "type": "boolean"
          },
          "include_weather": {
            "default": true,
            "description": "Include weather information",
            "title": "Include Weather",
            "type": "boolean"
          },
          "limit": {
            "default": 10,
            "description": "Maximum number of results",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          },
          "max_safety_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum safety rating",
            "title": "Max Safety Rating"
          },
          "min_safety_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum safety rating",
            "title": "Min Safety Rating"
          },
          "query": {
            "description": "Search query",
            "maxLength": 200,
            "minLength": 1,
            "title": "Query",
            "type": "string"
          },
          "travel_month": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Month of travel for weather filtering",
            "title": "Travel Month"
          }
        },
        "required": [
          "query"
        ],
        "title": "DestinationSearchRequest",
        "type": "object"
      },
      "DestinationSearchResponse": {
        "description": "Destination search response model.",
        "properties": {
          "cached": {
            "default": false,
            "description": "Whether results were cached",
            "title": "Cached",
            "type": "boolean"
          },
          "destinations": {
            "description": "Search results",
            "items": {
              "$ref": "#/components/schemas/Destination-Output"
            },
            "title": "Destinations",
            "type": "array"
          },
          "results_returned": {
            "description": "Number of results returned",
            "title": "Results Returned",
            "type": "integer"
          },
          "search_duration_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search duration in milliseconds",
            "title": "Search Duration Ms"
          },
          "search_id": {
            "description": "Search ID",
            "title": "Search Id",
            "type": "string"
          },
          "search_parameters": {
            "$ref": "#/components/schemas/DestinationSearchRequest",
            "description": "Original search parameters"
          },
          "total_results": {
            "description": "Total number of results",
            "title": "Total Results",
            "type": "integer"
          }
        },
        "required": [
          "search_id",
          "destinations",
          "search_parameters",
          "total_results",
          "results_returned"
        ],
        "title": "DestinationSearchResponse",
        "type": "object"
      },
      "DestinationWeather": {
        "description": "Destination weather information.",
        "properties": {
          "avoid_months": {
            "description": "Months to avoid",
            "items": {
              "type": "string"
            },
            "title": "Avoid Months",
            "type": "array"
          },
          "best_months": {
            "description": "Best months to visit",
            "items": {
              "type": "string"
            },
            "title": "Best Months",
            "type": "array"
          },
          "climate_type": {
            "$ref": "#/components/schemas/ClimateType",
            "description": "Climate classification"
          },
          "conditions": {
            "description": "Typical weather conditions",
            "title": "Conditions",
            "type": "string"
          },
          "humidity_percent": {
            "description": "Average humidity percentage",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Humidity Percent",
            "type": "number"
          },
          "precipitation_mm": {
            "description": "Average precipitation in mm",
            "title": "Precipitation Mm",
            "type": "number"
          },
          "season": {
            "description": "Current season",
            "title": "Season",
            "type": "string"
          },
          "temperature_high_c": {
            "description": "Average high temperature in Celsius",
            "title": "Temperature High C",
            "type": "number"
          },
          "temperature_high_f": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average high temperature in Fahrenheit",
            "title": "Temperature High F"
          },
          "temperature_low_c": {
            "description": "Average low temperature in Celsius",
            "title": "Temperature Low C",
            "type": "number"
          },
          "temperature_low_f": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average low temperature in Fahrenheit",
            "title": "Temperature Low F"
          }
        },
        "required": [
          "season",
          "temperature_high_c",
          "temperature_low_c",
          "precipitation_mm",
          "humidity_percent",
          "conditions",
          "climate_type"
        ],
        "title": "DestinationWeather",
        "type": "object"
      },
      "FileListResponse": {
        "description": "Paginated list of file metadata.",
        "properties": {
          "files": {
            "items": {
              "$ref": "#/components/schemas/FileMetadataResponse"
            },
            "title": "Files",
            "type": "array"
          },
          "limit": {
            "title": "Limit",
            "type": "integer"
          },
          "offset": {
            "title": "Offset",
            "type": "integer"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "files",
          "limit",
          "offset",
          "total"
        ],
        "title": "FileListResponse",
        "type": "object"
      },
      "FileMetadataResponse": {
        "description": "Metadata for an uploaded file.",
        "properties": {
          "analysis_summary": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analysis Summary"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "file_id": {
            "title": "File Id",
            "type": "string"
          },
          "file_size": {
            "title": "File Size",
            "type": "integer"
          },
          "filename": {
            "title": "Filename",
            "type": "string"
          },
          "mime_type": {
            "title": "Mime Type",
            "type": "string"
          },
          "processing_status": {
            "title": "Processing Status",
            "type": "string"
          }
        },
        "required": [
          "file_id",
          "filename",
          "file_size",
          "mime_type",
          "processing_status"
        ],
        "title": "FileMetadataResponse",
        "type": "object"
      },
      "FileUploadResponse": {
        "description": "Response after a single file upload.",
        "properties": {
          "file_id": {
            "description": "Unique file identifier",
            "title": "File Id",
            "type": "string"
          },
          "file_size": {
            "description": "File size in bytes",
            "title": "File Size",
            "type": "integer"
          },
          "filename": {
            "description": "Original filename",
            "title": "Filename",
            "type": "string"
          },
          "message": {
            "default": "Upload successful",
            "description": "Status message",
            "title": "Message",
            "type": "string"
          },
          "mime_type": {
            "description": "MIME type",
            "title": "Mime Type",
            "type": "string"
          },
          "processing_status": {
            "description": "Processing status",
            "title": "Processing Status",
            "type": "string"
          },
          "upload_status": {
            "description": "Upload status",
            "title": "Upload Status",
            "type": "string"
          }
        },
        "required": [
          "file_id",
          "filename",
          "file_size",
          "mime_type",
          "processing_status",
          "upload_status"
        ],
        "title": "FileUploadResponse",
        "type": "object"
      },
      "FlightBooking": {
        "description": "Flight booking response model.",
        "properties": {
          "booked_at": {
            "description": "Booking timestamp",
            "format": "date-time",
            "title": "Booked At",
            "type": "string"
          },
          "cancellable": {
            "default": false,
            "description": "Whether booking can be cancelled",
            "title": "Cancellable",
            "type": "boolean"
          },
          "confirmation_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Airline confirmation number",
            "title": "Confirmation Number"
          },
          "currency": {
            "description": "Price currency",
            "title": "Currency",
            "type": "string"
          },
          "expires_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Booking expiration",
            "title": "Expires At"
          },
          "id": {
            "description": "Booking ID",
            "title": "Id",
            "type": "string"
          },
          "metadata": {
            "additionalProperties": true,
            "description": "Additional metadata",
            "title": "Metadata",
            "type": "object"
          },
          "offer_id": {
            "description": "Booked offer ID",
            "title": "Offer Id",
            "type": "string"
          },
          "outbound_segments": {
            "description": "Outbound segments",
            "items": {
              "$ref": "#/components/schemas/FlightSegment"
            },
            "title": "Outbound Segments",
            "type": "array"
          },
          "passengers": {
            "description": "Passenger details",
            "items": {
              "$ref": "#/components/schemas/FlightPassenger"
            },
            "title": "Passengers",
            "type": "array"
          },
          "refundable": {
            "default": false,
            "description": "Whether booking is refundable",
            "title": "Refundable",
            "type": "boolean"
          },
          "return_segments": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FlightSegment"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Return segments",
            "title": "Return Segments"
          },
          "status": {
            "$ref": "#/components/schemas/tripsage_core__models__schemas_common__enums__BookingStatus",
            "description": "Booking status"
          },
          "total_price": {
            "description": "Total booking price",
            "title": "Total Price",
            "type": "number"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "offer_id",
          "passengers",
          "outbound_segments",
          "total_price",
          "currency",
          "status",
          "booked_at"
        ],
        "title": "FlightBooking",
        "type": "object"
      },
      "FlightBookingRequest": {
        "description": "Request model for flight booking.",
        "properties": {
          "hold_only": {
            "default": false,
            "description": "Hold booking without payment",
            "title": "Hold Only",
            "type": "boolean"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional booking metadata",
            "title": "Metadata"
          },
          "offer_id": {
            "description": "Offer ID to book",
            "title": "Offer Id",
            "type": "string"
          },
          "passengers": {
            "description": "Complete passenger information",
            "items": {
              "$ref": "#/components/schemas/FlightPassenger"
            },
            "title": "Passengers",
            "type": "array"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          }
        },
        "required": [
          "offer_id",
          "passengers"
        ],
        "title": "FlightBookingRequest",
        "type": "object"
      },
      "FlightOffer": {
        "description": "Flight offer response model.",
        "properties": {
          "airlines": {
            "description": "Airlines involved",
            "items": {
              "type": "string"
            },
            "title": "Airlines",
            "type": "array"
          },
          "base_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Base fare price",
            "title": "Base Price"
          },
          "bookable": {
            "default": true,
            "description": "Whether offer can be booked",
            "title": "Bookable",
            "type": "boolean"
          },
          "booking_class": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Booking class code",
            "title": "Booking Class"
          },
          "cabin_class": {
            "$ref": "#/components/schemas/CabinClass",
            "description": "Cabin class"
          },
          "convenience_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Convenience score",
            "title": "Convenience Score"
          },
          "currency": {
            "description": "Price currency",
            "title": "Currency",
            "type": "string"
          },
          "expires_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Offer expiration time",
            "title": "Expires At"
          },
          "id": {
            "description": "Offer ID",
            "title": "Id",
            "type": "string"
          },
          "outbound_segments": {
            "description": "Outbound flight segments",
            "items": {
              "$ref": "#/components/schemas/FlightSegment"
            },
            "title": "Outbound Segments",
            "type": "array"
          },
          "price_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Price competitiveness",
            "title": "Price Score"
          },
          "return_segments": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FlightSegment"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Return flight segments",
            "title": "Return Segments"
          },
          "score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Quality score",
            "title": "Score"
          },
          "search_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated search ID",
            "title": "Search Id"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Source API (duffel, amadeus, etc.)",
            "title": "Source"
          },
          "source_offer_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Original offer ID from source",
            "title": "Source Offer Id"
          },
          "stops_count": {
            "default": 0,
            "description": "Number of stops",
            "title": "Stops Count",
            "type": "integer"
          },
          "taxes": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Taxes and fees",
            "title": "Taxes"
          },
          "total_duration": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total travel time in minutes",
            "title": "Total Duration"
          },
          "total_price": {
            "description": "Total price",
            "title": "Total Price",
            "type": "number"
          }
        },
        "required": [
          "id",
          "outbound_segments",
          "total_price",
          "currency",
          "cabin_class"
        ],
        "title": "FlightOffer",
        "type": "object"
      },
      "FlightPassenger": {
        "description": "Passenger information for flight bookings.",
        "properties": {
          "age": {
            "anyOf": [
              {
                "maximum": 120.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Passenger age",
            "title": "Age"
          },
          "date_of_birth": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Date of birth",
            "title": "Date Of Birth"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Email address",
            "title": "Email"
          },
          "family_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last name",
            "title": "Family Name"
          },
          "given_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "First name",
            "title": "Given Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Phone number",
            "title": "Phone"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Title (Mr, Ms, etc.)",
            "title": "Title"
          },
          "type": {
            "$ref": "#/components/schemas/PassengerType",
            "description": "Passenger type"
          }
        },
        "required": [
          "type"
        ],
        "title": "FlightPassenger",
        "type": "object"
      },
      "FlightSearchRequest": {
        "description": "Unified flight search request model.\n\nThis model combines the API and service layer requirements for flight searches.\nIt supports both simple passenger counts and detailed passenger information.",
        "properties": {
          "adults": {
            "default": 1,
            "description": "Number of adult passengers",
            "maximum": 9.0,
            "minimum": 1.0,
            "title": "Adults",
            "type": "integer"
          },
          "cabin_class": {
            "$ref": "#/components/schemas/CabinClass",
            "default": "economy",
            "description": "Cabin class"
          },
          "children": {
            "default": 0,
            "description": "Number of child passengers",
            "maximum": 9.0,
            "minimum": 0.0,
            "title": "Children",
            "type": "integer"
          },
          "currency": {
            "default": "USD",
            "description": "Price currency",
            "title": "Currency",
            "type": "string"
          },
          "departure_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "format": "date-time",
                "type": "string"
              }
            ],
            "description": "Departure date",
            "title": "Departure Date"
          },
          "destination": {
            "description": "Destination airport IATA code",
            "title": "Destination",
            "type": "string"
          },
          "excluded_airlines": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Excluded airline codes",
            "title": "Excluded Airlines"
          },
          "flexible_dates": {
            "default": false,
            "description": "Allow flexible date search",
            "title": "Flexible Dates",
            "type": "boolean"
          },
          "infants": {
            "default": 0,
            "description": "Number of infant passengers",
            "maximum": 4.0,
            "minimum": 0.0,
            "title": "Infants",
            "type": "integer"
          },
          "max_price": {
            "anyOf": [
              {
                "exclusiveMinimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price in USD",
            "title": "Max Price"
          },
          "max_stops": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum number of stops",
            "title": "Max Stops"
          },
          "origin": {
            "description": "Origin airport IATA code",
            "title": "Origin",
            "type": "string"
          },
          "passengers": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/FlightPassenger"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Detailed passenger information (optional)",
            "title": "Passengers"
          },
          "preferred_airlines": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred airline codes",
            "title": "Preferred Airlines"
          },
          "return_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Return date for round trips",
            "title": "Return Date"
          },
          "trip_id": {
            "anyOf": [
              {
                "format": "uuid",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          }
        },
        "required": [
          "origin",
          "destination",
          "departure_date"
        ],
        "title": "FlightSearchRequest",
        "type": "object"
      },
      "FlightSearchResponse": {
        "description": "Flight search response model.",
        "properties": {
          "cached": {
            "default": false,
            "description": "Whether results were cached",
            "title": "Cached",
            "type": "boolean"
          },
          "offers": {
            "description": "Flight offers",
            "items": {
              "$ref": "#/components/schemas/FlightOffer"
            },
            "title": "Offers",
            "type": "array"
          },
          "search_duration_ms": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search duration in milliseconds",
            "title": "Search Duration Ms"
          },
          "search_id": {
            "description": "Search ID",
            "title": "Search Id",
            "type": "string"
          },
          "search_parameters": {
            "description": "Original search parameters",
            "title": "Search Parameters"
          },
          "total_results": {
            "description": "Total number of results",
            "title": "Total Results",
            "type": "integer"
          }
        },
        "required": [
          "search_id",
          "offers",
          "search_parameters",
          "total_results"
        ],
        "title": "FlightSearchResponse",
        "type": "object"
      },
      "FlightSegment": {
        "description": "Flight segment information.",
        "properties": {
          "aircraft_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Aircraft type",
            "title": "Aircraft Type"
          },
          "airline": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Airline code",
            "title": "Airline"
          },
          "arrival_date": {
            "description": "Arrival date and time",
            "format": "date-time",
            "title": "Arrival Date",
            "type": "string"
          },
          "departure_date": {
            "description": "Departure date and time",
            "format": "date-time",
            "title": "Departure Date",
            "type": "string"
          },
          "destination": {
            "description": "Destination airport code",
            "title": "Destination",
            "type": "string"
          },
          "duration_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Flight duration in minutes",
            "title": "Duration Minutes"
          },
          "flight_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Flight number",
            "title": "Flight Number"
          },
          "origin": {
            "description": "Origin airport code",
            "title": "Origin",
            "type": "string"
          }
        },
        "required": [
          "origin",
          "destination",
          "departure_date",
          "arrival_date"
        ],
        "title": "FlightSegment",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "ItineraryConflictCheckResponse": {
        "description": "Response model for checking conflicting items in an itinerary.",
        "properties": {
          "conflicts": {
            "description": "List of conflicts found",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Conflicts",
            "type": "array"
          },
          "has_conflicts": {
            "description": "Whether there are any conflicts",
            "title": "Has Conflicts",
            "type": "boolean"
          }
        },
        "required": [
          "has_conflicts"
        ],
        "title": "ItineraryConflictCheckResponse",
        "type": "object"
      },
      "ItineraryCreateRequest": {
        "description": "Request model for creating a new itinerary.",
        "example": {
          "currency": "USD",
          "description": "5-day itinerary across Tokyo",
          "destinations": [
            "Tokyo"
          ],
          "end_date": "2025-05-05",
          "start_date": "2025-05-01",
          "tags": [
            "culture",
            "food"
          ],
          "title": "Tokyo Adventure",
          "total_budget": 4500.0
        },
        "properties": {
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for budget amounts (e.g., 'USD')",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of the itinerary",
            "title": "Description"
          },
          "destinations": {
            "description": "List of destination IDs to include in this itinerary",
            "items": {
              "type": "string"
            },
            "title": "Destinations",
            "type": "array"
          },
          "end_date": {
            "description": "End date of the itinerary",
            "format": "date",
            "title": "End Date",
            "type": "string"
          },
          "start_date": {
            "description": "Start date of the itinerary",
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "tags": {
            "description": "List of tags to associate with this itinerary",
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "title": {
            "description": "Title of the itinerary",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "type": "string"
          },
          "total_budget": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total budget for the trip",
            "title": "Total Budget"
          }
        },
        "required": [
          "title",
          "start_date",
          "end_date"
        ],
        "title": "ItineraryCreateRequest",
        "type": "object"
      },
      "ItineraryItemCreateRequest": {
        "description": "Request model for adding an item to an itinerary.",
        "example": {
          "cost": 100.0,
          "currency": "USD",
          "description": "Iconic landmark with city views",
          "item_date": "2025-05-02",
          "item_type": "activity",
          "time_slot": {
            "end_time": "12:00",
            "start_time": "10:00"
          },
          "title": "Visit Tokyo Tower"
        },
        "properties": {
          "accommodation_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation-specific details if type is ACCOMMODATION",
            "title": "Accommodation Details"
          },
          "activity_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Activity-specific details if type is ACTIVITY",
            "title": "Activity Details"
          },
          "booking_reference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Booking reference or confirmation number",
            "title": "Booking Reference"
          },
          "cost": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cost of the item in the trip's currency",
            "title": "Cost"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for the cost (e.g., 'USD')",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of the item",
            "title": "Description"
          },
          "flight_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Flight-specific details if type is TRANSPORT",
            "title": "Flight Details"
          },
          "is_flexible": {
            "default": false,
            "description": "Whether this item's time is flexible",
            "title": "Is Flexible",
            "type": "boolean"
          },
          "item_date": {
            "description": "Date of the itinerary item",
            "format": "date",
            "title": "Item Date",
            "type": "string"
          },
          "item_type": {
            "$ref": "#/components/schemas/ItineraryItemType",
            "description": "Type of itinerary item"
          },
          "location": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Location"
              },
              {
                "type": "null"
              }
            ],
            "description": "Location of the item, if applicable"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes about the item",
            "title": "Notes"
          },
          "time_slot": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TimeSlot"
              },
              {
                "type": "null"
              }
            ],
            "description": "Time slot for the item, if applicable"
          },
          "title": {
            "description": "Title or name of the item",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "type": "string"
          },
          "transportation_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation-specific details if type is TRANSPORT",
            "title": "Transportation Details"
          }
        },
        "required": [
          "item_type",
          "title",
          "item_date"
        ],
        "title": "ItineraryItemCreateRequest",
        "type": "object"
      },
      "ItineraryItemResponse": {
        "description": "Response model for itinerary item.",
        "example": {
          "booking_reference": "ABC123",
          "cost": 100.0,
          "created_at": "2025-04-01T09:00:00Z",
          "currency": "USD",
          "description": "Iconic landmark with city views",
          "end_time": "12:00",
          "id": "item-123",
          "is_flexible": false,
          "item_date": "2025-05-02",
          "item_type": "activity",
          "notes": "Wear comfortable shoes",
          "start_time": "10:00",
          "title": "Visit Tokyo Tower",
          "updated_at": "2025-04-01T09:00:00Z"
        },
        "properties": {
          "booking_reference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Booking reference",
            "title": "Booking Reference"
          },
          "cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cost of the item",
            "title": "Cost"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Creation timestamp",
            "title": "Created At"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for the cost",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of the item",
            "title": "Description"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "End time (HH:MM) for the itinerary item",
            "title": "End Time"
          },
          "id": {
            "description": "Unique identifier for the itinerary item",
            "title": "Id",
            "type": "string"
          },
          "is_flexible": {
            "default": false,
            "description": "Whether item time is flexible",
            "title": "Is Flexible",
            "type": "boolean"
          },
          "item_date": {
            "description": "Date of the itinerary item",
            "format": "date",
            "title": "Item Date",
            "type": "string"
          },
          "item_type": {
            "description": "Type of itinerary item",
            "title": "Item Type",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes",
            "title": "Notes"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Start time (HH:MM) for the itinerary item",
            "title": "Start Time"
          },
          "title": {
            "description": "Title or name of the item",
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last update timestamp",
            "title": "Updated At"
          }
        },
        "required": [
          "id",
          "item_type",
          "title",
          "item_date"
        ],
        "title": "ItineraryItemResponse",
        "type": "object"
      },
      "ItineraryItemType": {
        "description": "Types of items that can be in an itinerary.",
        "enum": [
          "activity",
          "accommodation",
          "transport",
          "meal"
        ],
        "title": "ItineraryItemType",
        "type": "string"
      },
      "ItineraryItemUpdateRequest": {
        "description": "Request model for updating an itinerary item.",
        "properties": {
          "accommodation_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation-specific details if type is ACCOMMODATION",
            "title": "Accommodation Details"
          },
          "activity_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Activity-specific details if type is ACTIVITY",
            "title": "Activity Details"
          },
          "booking_reference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Booking reference or confirmation number",
            "title": "Booking Reference"
          },
          "cost": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cost of the item in the trip's currency",
            "title": "Cost"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for the cost (e.g., 'USD')",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of the item",
            "title": "Description"
          },
          "flight_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Flight-specific details if type is TRANSPORT",
            "title": "Flight Details"
          },
          "is_flexible": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Whether this item's time is flexible",
            "title": "Is Flexible"
          },
          "item_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Date of the itinerary item",
            "title": "Item Date"
          },
          "location": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Location"
              },
              {
                "type": "null"
              }
            ],
            "description": "Location of the item, if applicable"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional notes about the item",
            "title": "Notes"
          },
          "time_slot": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TimeSlot"
              },
              {
                "type": "null"
              }
            ],
            "description": "Time slot for the item, if applicable"
          },
          "title": {
            "anyOf": [
              {
                "maxLength": 100,
                "minLength": 1,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Title or name of the item",
            "title": "Title"
          },
          "transportation_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation-specific details if type is TRANSPORT",
            "title": "Transportation Details"
          }
        },
        "title": "ItineraryItemUpdateRequest",
        "type": "object"
      },
      "ItineraryOptimizeRequest": {
        "description": "Request model for optimizing an itinerary.",
        "properties": {
          "itinerary_id": {
            "description": "ID of the itinerary to optimize",
            "title": "Itinerary Id",
            "type": "string"
          },
          "settings": {
            "$ref": "#/components/schemas/OptimizationSetting",
            "description": "Optimization settings"
          }
        },
        "required": [
          "itinerary_id",
          "settings"
        ],
        "title": "ItineraryOptimizeRequest",
        "type": "object"
      },
      "ItineraryOptimizeResponse": {
        "description": "Response model for optimized itinerary.",
        "properties": {
          "changes": {
            "description": "List of changes made during optimization",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Changes",
            "type": "array"
          },
          "optimization_score": {
            "description": "Score representing the optimization improvement (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Optimization Score",
            "type": "number"
          },
          "optimized_itinerary": {
            "$ref": "#/components/schemas/ItineraryResponse",
            "description": "Optimized itinerary"
          },
          "original_itinerary": {
            "$ref": "#/components/schemas/ItineraryResponse",
            "description": "Original itinerary before optimization"
          }
        },
        "required": [
          "original_itinerary",
          "optimized_itinerary",
          "optimization_score"
        ],
        "title": "ItineraryOptimizeResponse",
        "type": "object"
      },
      "ItineraryResponse": {
        "description": "Response model for itinerary.",
        "example": {
          "created_at": "2025-04-01T09:00:00Z",
          "currency": "USD",
          "description": "5-day itinerary",
          "end_date": "2025-05-05",
          "id": "itinerary-123",
          "items": [
            {
              "end_time": "12:00",
              "id": "item-123",
              "item_date": "2025-05-02",
              "item_type": "activity",
              "start_time": "10:00",
              "title": "Visit Tokyo Tower"
            }
          ],
          "start_date": "2025-05-01",
          "status": "active",
          "tags": [
            "culture",
            "food"
          ],
          "title": "Tokyo Adventure",
          "total_budget": 4500.0,
          "updated_at": "2025-04-01T09:00:00Z"
        },
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Creation timestamp",
            "title": "Created At"
          },
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for budget",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Itinerary description",
            "title": "Description"
          },
          "end_date": {
            "description": "Itinerary end date",
            "format": "date",
            "title": "End Date",
            "type": "string"
          },
          "id": {
            "description": "Itinerary identifier",
            "title": "Id",
            "type": "string"
          },
          "items": {
            "description": "Itinerary items",
            "items": {
              "$ref": "#/components/schemas/ItineraryItemResponse"
            },
            "title": "Items",
            "type": "array"
          },
          "start_date": {
            "description": "Itinerary start date",
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "status": {
            "description": "Current status of the itinerary",
            "title": "Status",
            "type": "string"
          },
          "tags": {
            "description": "Associated tags",
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "title": {
            "description": "Itinerary title",
            "title": "Title",
            "type": "string"
          },
          "total_budget": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total budget for the trip",
            "title": "Total Budget"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Last update timestamp",
            "title": "Updated At"
          }
        },
        "required": [
          "id",
          "title",
          "start_date",
          "end_date",
          "status"
        ],
        "title": "ItineraryResponse",
        "type": "object"
      },
      "ItinerarySearchRequest": {
        "description": "Request model for searching itineraries.",
        "properties": {
          "destinations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by destination IDs included in the itinerary",
            "title": "Destinations"
          },
          "end_date_from": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for itineraries ending from this date",
            "title": "End Date From"
          },
          "end_date_to": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for itineraries ending before this date",
            "title": "End Date To"
          },
          "page": {
            "default": 1,
            "description": "Page number for pagination",
            "minimum": 1.0,
            "title": "Page",
            "type": "integer"
          },
          "page_size": {
            "default": 10,
            "description": "Number of results per page",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Page Size",
            "type": "integer"
          },
          "query": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Search query for finding itineraries",
            "title": "Query"
          },
          "start_date_from": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for itineraries starting from this date",
            "title": "Start Date From"
          },
          "start_date_to": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for itineraries starting before this date",
            "title": "Start Date To"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ItineraryStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by itinerary status"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter by tags associated with the itinerary",
            "title": "Tags"
          }
        },
        "title": "ItinerarySearchRequest",
        "type": "object"
      },
      "ItinerarySearchResponse": {
        "description": "Paginated itinerary search response following canonical pagination schema.",
        "example": {
          "data": [
            {
              "created_at": "2025-04-01T09:00:00Z",
              "currency": "USD",
              "description": "5-day itinerary",
              "end_date": "2025-05-05",
              "id": "itinerary-123",
              "items": [],
              "start_date": "2025-05-01",
              "status": "active",
              "tags": [
                "culture"
              ],
              "title": "Tokyo Adventure",
              "total_budget": 4500.0,
              "updated_at": "2025-04-01T09:00:00Z"
            }
          ],
          "pagination": {
            "has_next": false,
            "has_prev": false,
            "page": 1,
            "per_page": 25,
            "total_items": 1,
            "total_pages": 1
          },
          "success": true,
          "timestamp": "2025-04-01T09:00:00Z"
        },
        "properties": {
          "data": {
            "description": "List of items",
            "items": {
              "$ref": "#/components/schemas/ItineraryResponse"
            },
            "title": "Data",
            "type": "array"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Human-readable message",
            "title": "Message"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMeta",
            "description": "Pagination metadata"
          },
          "success": {
            "description": "Whether the request was successful",
            "title": "Success",
            "type": "boolean"
          },
          "timestamp": {
            "description": "Response timestamp",
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": [
          "success",
          "data",
          "pagination"
        ],
        "title": "ItinerarySearchResponse",
        "type": "object"
      },
      "ItineraryShareSettings": {
        "description": "Sharing settings for an itinerary.",
        "enum": [
          "private",
          "public",
          "shared"
        ],
        "title": "ItineraryShareSettings",
        "type": "string"
      },
      "ItineraryStatus": {
        "description": "Status of an itinerary.",
        "enum": [
          "draft",
          "active",
          "completed"
        ],
        "title": "ItineraryStatus",
        "type": "string"
      },
      "ItineraryUpdateRequest": {
        "description": "Request model for updating an existing itinerary.",
        "example": {
          "status": "active",
          "tags": [
            "culture",
            "nightlife"
          ],
          "title": "Updated Tokyo Adventure"
        },
        "properties": {
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Currency code for budget amounts (e.g., 'USD')",
            "title": "Currency"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Description of the itinerary",
            "title": "Description"
          },
          "destinations": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of destination IDs to include in this itinerary",
            "title": "Destinations"
          },
          "end_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "End date of the itinerary",
            "title": "End Date"
          },
          "share_settings": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ItineraryShareSettings"
              },
              {
                "type": "null"
              }
            ],
            "description": "Sharing settings for the itinerary"
          },
          "start_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Start date of the itinerary",
            "title": "Start Date"
          },
          "status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ItineraryStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Current status of the itinerary"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "List of tags to associate with this itinerary",
            "title": "Tags"
          },
          "title": {
            "anyOf": [
              {
                "maxLength": 100,
                "minLength": 1,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Title of the itinerary",
            "title": "Title"
          },
          "total_budget": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Total budget for the trip",
            "title": "Total Budget"
          }
        },
        "title": "ItineraryUpdateRequest",
        "type": "object"
      },
      "Location": {
        "description": "Location information for itinerary items.",
        "properties": {
          "latitude": {
            "description": "Latitude coordinate",
            "maximum": 90.0,
            "minimum": -90.0,
            "title": "Latitude",
            "type": "number"
          },
          "longitude": {
            "description": "Longitude coordinate",
            "maximum": 180.0,
            "minimum": -180.0,
            "title": "Longitude",
            "type": "number"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Name of the location",
            "title": "Name"
          }
        },
        "required": [
          "latitude",
          "longitude"
        ],
        "title": "Location",
        "type": "object"
      },
      "MemorySearchResponse": {
        "description": "Search results wrapper for memory queries.",
        "properties": {
          "query": {
            "description": "Original query string",
            "title": "Query",
            "type": "string"
          },
          "results": {
            "description": "Search results",
            "items": {
              "$ref": "#/components/schemas/MemorySearchResult"
            },
            "title": "Results",
            "type": "array"
          },
          "total": {
            "description": "Total results returned",
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "results",
          "query",
          "total"
        ],
        "title": "MemorySearchResponse",
        "type": "object"
      },
      "MemorySearchResult": {
        "description": "Memory search result with metadata.",
        "properties": {
          "categories": {
            "description": "Memory categories",
            "items": {
              "type": "string"
            },
            "title": "Categories",
            "type": "array"
          },
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "description": "Memory ID",
            "title": "Id",
            "type": "string"
          },
          "memory": {
            "description": "Memory content",
            "title": "Memory",
            "type": "string"
          },
          "metadata": {
            "additionalProperties": true,
            "description": "Memory metadata",
            "title": "Metadata",
            "type": "object"
          },
          "similarity": {
            "default": 0.0,
            "description": "Similarity score",
            "title": "Similarity",
            "type": "number"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "memory",
          "created_at",
          "user_id"
        ],
        "title": "MemorySearchResult",
        "type": "object"
      },
      "MessageRole": {
        "description": "Valid message roles.",
        "enum": [
          "user",
          "assistant",
          "system",
          "tool"
        ],
        "title": "MessageRole",
        "type": "string"
      },
      "OptimizationSetting": {
        "description": "Optimization settings for itinerary planning.",
        "enum": [
          "time",
          "cost",
          "convenience"
        ],
        "title": "OptimizationSetting",
        "type": "string"
      },
      "PaginationMeta": {
        "description": "Pagination metadata.",
        "properties": {
          "has_next": {
            "description": "Whether there are more pages",
            "title": "Has Next",
            "type": "boolean"
          },
          "has_prev": {
            "description": "Whether there are previous pages",
            "title": "Has Prev",
            "type": "boolean"
          },
          "page": {
            "description": "Current page number",
            "minimum": 1.0,
            "title": "Page",
            "type": "integer"
          },
          "per_page": {
            "description": "Items per page",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Per Page",
            "type": "integer"
          },
          "total_items": {
            "description": "Total number of items",
            "minimum": 0.0,
            "title": "Total Items",
            "type": "integer"
          },
          "total_pages": {
            "description": "Total number of pages",
            "minimum": 0.0,
            "title": "Total Pages",
            "type": "integer"
          }
        },
        "required": [
          "page",
          "per_page",
          "total_items",
          "total_pages",
          "has_next",
          "has_prev"
        ],
        "title": "PaginationMeta",
        "type": "object"
      },
      "PassengerType": {
        "description": "Types of passengers for flight bookings.",
        "enum": [
          "adult",
          "child",
          "infant"
        ],
        "title": "PassengerType",
        "type": "string"
      },
      "PointOfInterest": {
        "description": "Point of interest information.",
        "properties": {
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "POI address",
            "title": "Address"
          },
          "category": {
            "description": "POI category",
            "title": "Category",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "POI description",
            "title": "Description"
          },
          "id": {
            "description": "POI ID",
            "title": "Id",
            "type": "string"
          },
          "images": {
            "description": "POI images",
            "items": {
              "$ref": "#/components/schemas/DestinationImage"
            },
            "title": "Images",
            "type": "array"
          },
          "latitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Latitude coordinate",
            "title": "Latitude"
          },
          "longitude": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Longitude coordinate",
            "title": "Longitude"
          },
          "name": {
            "description": "POI name",
            "title": "Name",
            "type": "string"
          },
          "opening_hours": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Opening hours by day",
            "title": "Opening Hours"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "POI phone number",
            "title": "Phone"
          },
          "popular_times": {
            "anyOf": [
              {
                "additionalProperties": {
                  "items": {
                    "type": "integer"
                  },
                  "type": "array"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Popular visiting times",
            "title": "Popular Times"
          },
          "price_level": {
            "anyOf": [
              {
                "maximum": 4.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Price level (1-4)",
            "title": "Price Level"
          },
          "rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "POI rating",
            "title": "Rating"
          },
          "review_count": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of reviews",
            "title": "Review Count"
          },
          "website": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "POI website URL",
            "title": "Website"
          }
        },
        "required": [
          "id",
          "name",
          "category"
        ],
        "title": "PointOfInterest",
        "type": "object"
      },
      "Price-Input": {
        "description": "Price with currency and optional breakdown.",
        "properties": {
          "amount": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
                "type": "string"
              }
            ],
            "description": "Price amount",
            "title": "Amount"
          },
          "currency": {
            "$ref": "#/components/schemas/CurrencyCode",
            "description": "Currency code"
          },
          "formatted": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Formatted price string",
            "title": "Formatted"
          }
        },
        "required": [
          "amount",
          "currency"
        ],
        "title": "Price",
        "type": "object"
      },
      "Price-Output": {
        "description": "Price with currency and optional breakdown.",
        "properties": {
          "amount": {
            "description": "Price amount",
            "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$",
            "title": "Amount",
            "type": "string"
          },
          "currency": {
            "$ref": "#/components/schemas/CurrencyCode",
            "description": "Currency code"
          },
          "formatted": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Formatted price string",
            "title": "Formatted"
          }
        },
        "required": [
          "amount",
          "currency"
        ],
        "title": "Price",
        "type": "object"
      },
      "PriceRange": {
        "description": "Price range filter.",
        "properties": {
          "max": {
            "description": "Maximum price",
            "minimum": 0.0,
            "title": "Max",
            "type": "number"
          },
          "min": {
            "description": "Minimum price",
            "minimum": 0.0,
            "title": "Min",
            "type": "number"
          }
        },
        "required": [
          "min",
          "max"
        ],
        "title": "PriceRange",
        "type": "object"
      },
      "Principal": {
        "description": "Represents an authenticated principal (user or agent).",
        "properties": {
          "auth_method": {
            "title": "Auth Method",
            "type": "string"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "metadata": {
            "additionalProperties": true,
            "title": "Metadata",
            "type": "object"
          },
          "scopes": {
            "items": {
              "type": "string"
            },
            "title": "Scopes",
            "type": "array"
          },
          "service": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Service"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "type",
          "auth_method"
        ],
        "title": "Principal",
        "type": "object"
      },
      "PropertyType": {
        "description": "Property type enumeration.",
        "enum": [
          "hotel",
          "apartment",
          "house",
          "villa",
          "resort",
          "hostel",
          "bed_and_breakfast",
          "guest_house",
          "other"
        ],
        "title": "PropertyType",
        "type": "string"
      },
      "RateLimitInfoResponse": {
        "description": "Rate limit information response.",
        "properties": {
          "current_usage": {
            "description": "Current usage count",
            "title": "Current Usage",
            "type": "integer"
          },
          "is_approaching_limit": {
            "default": false,
            "description": "Whether approaching the limit",
            "title": "Is Approaching Limit",
            "type": "boolean"
          },
          "key_id": {
            "description": "API key ID",
            "title": "Key Id",
            "type": "string"
          },
          "limit": {
            "description": "Rate limit threshold",
            "title": "Limit",
            "type": "integer"
          },
          "percentage_used": {
            "description": "Percentage of quota used",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Percentage Used",
            "type": "number"
          },
          "remaining": {
            "description": "Remaining quota",
            "title": "Remaining",
            "type": "integer"
          },
          "reset_at": {
            "description": "Rate limit reset time",
            "format": "date-time",
            "title": "Reset At",
            "type": "string"
          },
          "service": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Service name",
            "title": "Service"
          },
          "window_minutes": {
            "description": "Rate limit window in minutes",
            "title": "Window Minutes",
            "type": "integer"
          }
        },
        "required": [
          "key_id",
          "current_usage",
          "limit",
          "remaining",
          "window_minutes",
          "reset_at",
          "percentage_used"
        ],
        "title": "RateLimitInfoResponse",
        "type": "object"
      },
      "ReadinessCheck": {
        "description": "Readiness check result.\n\nAttributes:\n    ready: Whether the application is ready to serve traffic.\n    timestamp: Current timestamp.\n    checks: Map of dependency name to readiness boolean.\n    details: Optional details per dependency.",
        "properties": {
          "checks": {
            "additionalProperties": {
              "type": "boolean"
            },
            "title": "Checks",
            "type": "object"
          },
          "details": {
            "additionalProperties": {
              "type": "string"
            },
            "title": "Details",
            "type": "object"
          },
          "ready": {
            "title": "Ready",
            "type": "boolean"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": [
          "ready",
          "checks"
        ],
        "title": "ReadinessCheck",
        "type": "object"
      },
      "RegisterRequest": {
        "description": "User registration request model.",
        "properties": {
          "email": {
            "description": "Valid email address",
            "format": "email",
            "title": "Email",
            "type": "string"
          },
          "full_name": {
            "description": "Full name (1-100 characters)",
            "maxLength": 100,
            "minLength": 1,
            "title": "Full Name",
            "type": "string"
          },
          "password": {
            "description": "Password (8-128 characters with strength requirements)",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password",
            "type": "string"
          },
          "password_confirm": {
            "description": "Password confirmation (must match password)",
            "maxLength": 128,
            "minLength": 8,
            "title": "Password Confirm",
            "type": "string"
          },
          "username": {
            "description": "Username (3-50 characters, alphanumeric, underscore, hyphen)",
            "maxLength": 50,
            "minLength": 3,
            "pattern": "^[a-zA-Z0-9_-]+$",
            "title": "Username",
            "type": "string"
          }
        },
        "required": [
          "username",
          "email",
          "password",
          "password_confirm",
          "full_name"
        ],
        "title": "RegisterRequest",
        "type": "object"
      },
      "SafetyLevel": {
        "description": "Safety level enumeration.",
        "enum": [
          "very_safe",
          "safe",
          "moderate",
          "caution",
          "high_risk"
        ],
        "title": "SafetyLevel",
        "type": "string"
      },
      "SaveActivityRequest": {
        "description": "Request body to save an activity to a trip.",
        "properties": {
          "activity_id": {
            "title": "Activity Id",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "maxLength": 1000,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trip Id"
          }
        },
        "required": [
          "activity_id"
        ],
        "title": "SaveActivityRequest",
        "type": "object"
      },
      "SavedAccommodationRequest": {
        "description": "Request model for saving an accommodation listing.",
        "example": {
          "check_in": "2025-07-12",
          "check_out": "2025-07-15",
          "listing_id": "listing-123",
          "notes": "Great location for conference",
          "trip_id": "8c808086-7a9f-4a4a-8212-1c0857f0fa4f"
        },
        "properties": {
          "check_in": {
            "description": "Check-in date",
            "format": "date",
            "title": "Check In",
            "type": "string"
          },
          "check_out": {
            "description": "Check-out date",
            "format": "date",
            "title": "Check Out",
            "type": "string"
          },
          "listing_id": {
            "description": "Accommodation listing ID",
            "title": "Listing Id",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Notes about this accommodation",
            "title": "Notes"
          },
          "trip_id": {
            "description": "Trip ID to save the accommodation for",
            "format": "uuid",
            "title": "Trip Id",
            "type": "string"
          }
        },
        "required": [
          "listing_id",
          "trip_id",
          "check_in",
          "check_out"
        ],
        "title": "SavedAccommodationRequest",
        "type": "object"
      },
      "SavedAccommodationResponse": {
        "description": "Response model for a saved accommodation listing.",
        "example": {
          "check_in": "2025-07-12",
          "check_out": "2025-07-15",
          "id": "7b991b2c-6ce5-49e1-9960-1ef5a06979cd",
          "listing": {
            "currency": "USD",
            "id": "listing-123",
            "location": {
              "address": "123 Main St",
              "city": "New York",
              "country": "USA"
            },
            "max_guests": 2,
            "name": "Central City Loft",
            "price_per_night": 245.0,
            "property_type": "apartment"
          },
          "notes": "Request late checkout",
          "saved_at": "2025-05-01",
          "status": "saved",
          "trip_id": "8c808086-7a9f-4a4a-8212-1c0857f0fa4f",
          "user_id": "user-42"
        },
        "properties": {
          "check_in": {
            "description": "Check-in date",
            "format": "date",
            "title": "Check In",
            "type": "string"
          },
          "check_out": {
            "description": "Check-out date",
            "format": "date",
            "title": "Check Out",
            "type": "string"
          },
          "id": {
            "description": "Saved accommodation ID",
            "format": "uuid",
            "title": "Id",
            "type": "string"
          },
          "listing": {
            "$ref": "#/components/schemas/AccommodationListing",
            "description": "Accommodation listing details"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Notes about this accommodation",
            "title": "Notes"
          },
          "saved_at": {
            "description": "Date when the accommodation was saved",
            "format": "date",
            "title": "Saved At",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/tripsage_core__services__business__accommodation_service__BookingStatus",
            "default": "saved",
            "description": "Booking status"
          },
          "trip_id": {
            "description": "Trip ID",
            "format": "uuid",
            "title": "Trip Id",
            "type": "string"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "trip_id",
          "listing",
          "check_in",
          "check_out",
          "saved_at"
        ],
        "title": "SavedAccommodationResponse",
        "type": "object"
      },
      "SavedActivityResponse": {
        "description": "Saved activity entry in a user's trip context.",
        "properties": {
          "activity": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ActivityResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Full activity details"
          },
          "activity_id": {
            "description": "Activity ID",
            "title": "Activity Id",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User notes about the activity",
            "title": "Notes"
          },
          "saved_at": {
            "description": "When activity was saved (ISO format)",
            "title": "Saved At",
            "type": "string"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User ID who saved the activity",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "activity_id",
          "user_id",
          "saved_at"
        ],
        "title": "SavedActivityResponse",
        "type": "object"
      },
      "SavedDestination": {
        "description": "Saved destination information.",
        "properties": {
          "destination": {
            "$ref": "#/components/schemas/Destination-Output",
            "description": "Destination details"
          },
          "duration_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Planned duration",
            "title": "Duration Days"
          },
          "id": {
            "description": "Saved destination ID",
            "title": "Id",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User notes",
            "title": "Notes"
          },
          "planned_visit_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Planned visit date",
            "title": "Planned Visit Date"
          },
          "priority": {
            "description": "Priority",
            "title": "Priority",
            "type": "integer"
          },
          "saved_at": {
            "description": "When destination was saved",
            "format": "date-time",
            "title": "Saved At",
            "type": "string"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "destination",
          "priority",
          "saved_at"
        ],
        "title": "SavedDestination",
        "type": "object"
      },
      "SavedDestinationRequest": {
        "description": "Request model for saving a destination.",
        "properties": {
          "destination_id": {
            "description": "Destination ID to save",
            "title": "Destination Id",
            "type": "string"
          },
          "duration_days": {
            "anyOf": [
              {
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Planned duration in days",
            "title": "Duration Days"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User notes about the destination",
            "title": "Notes"
          },
          "planned_visit_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Planned visit date",
            "title": "Planned Visit Date"
          },
          "priority": {
            "default": 3,
            "description": "Priority (1=highest, 5=lowest)",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Priority",
            "type": "integer"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip ID",
            "title": "Trip Id"
          }
        },
        "required": [
          "destination_id"
        ],
        "title": "SavedDestinationRequest",
        "type": "object"
      },
      "SearchAnalyticsResponse": {
        "description": "Per-day analytics summary for a user's searches.",
        "properties": {
          "cache_hit_rate": {
            "title": "Cache Hit Rate",
            "type": "number"
          },
          "cache_hits": {
            "title": "Cache Hits",
            "type": "integer"
          },
          "cache_misses": {
            "title": "Cache Misses",
            "type": "integer"
          },
          "date": {
            "title": "Date",
            "type": "string"
          },
          "popular_queries": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              },
              "type": "object"
            },
            "title": "Popular Queries",
            "type": "array"
          },
          "total_searches": {
            "title": "Total Searches",
            "type": "integer"
          }
        },
        "required": [
          "date",
          "total_searches",
          "cache_hit_rate",
          "cache_hits",
          "cache_misses",
          "popular_queries"
        ],
        "title": "SearchAnalyticsResponse",
        "type": "object"
      },
      "SearchFacet": {
        "description": "Facet item used for filtering groups.",
        "properties": {
          "field": {
            "title": "Field",
            "type": "string"
          },
          "label": {
            "title": "Label",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          },
          "values": {
            "items": {
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  },
                  {
                    "type": "number"
                  }
                ]
              },
              "type": "object"
            },
            "title": "Values",
            "type": "array"
          }
        },
        "required": [
          "field",
          "label",
          "type",
          "values"
        ],
        "title": "SearchFacet",
        "type": "object"
      },
      "SearchFilters": {
        "description": "Common filters for unified search.",
        "properties": {
          "custom_filters": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    },
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Custom Filters"
          },
          "latitude": {
            "anyOf": [
              {
                "maximum": 90.0,
                "minimum": -90.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latitude"
          },
          "longitude": {
            "anyOf": [
              {
                "maximum": 180.0,
                "minimum": -180.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Longitude"
          },
          "price_max": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Max"
          },
          "price_min": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price Min"
          },
          "radius_km": {
            "anyOf": [
              {
                "maximum": 100.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Radius Km"
          },
          "rating_min": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating Min"
          }
        },
        "title": "SearchFilters",
        "type": "object"
      },
      "SearchMemoryRequest": {
        "description": "Search query for user memories.",
        "properties": {
          "limit": {
            "default": 10,
            "description": "Maximum results to return",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          },
          "query": {
            "description": "Search query",
            "title": "Query",
            "type": "string"
          }
        },
        "required": [
          "query"
        ],
        "title": "SearchMemoryRequest",
        "type": "object"
      },
      "SearchMetadata": {
        "description": "Metadata wrapper for a search operation.",
        "properties": {
          "cached_results": {
            "default": 0,
            "title": "Cached Results",
            "type": "integer"
          },
          "personalized": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personalized"
          },
          "provider_errors": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider Errors"
          },
          "providers_queried": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Providers Queried"
          },
          "returned_results": {
            "default": 0,
            "title": "Returned Results",
            "type": "integer"
          },
          "search_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Search Id"
          },
          "search_time_ms": {
            "default": 0,
            "title": "Search Time Ms",
            "type": "integer"
          },
          "total_results": {
            "default": 0,
            "title": "Total Results",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "title": "SearchMetadata",
        "type": "object"
      },
      "SearchResultItem": {
        "description": "Generic search result item across types.",
        "properties": {
          "currency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Currency"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "match_reasons": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Match Reasons"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price"
          },
          "quick_actions": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Quick Actions"
          },
          "rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "relevance_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relevance Score"
          },
          "review_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Review Count"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "type",
          "title",
          "description"
        ],
        "title": "SearchResultItem",
        "type": "object"
      },
      "ServiceHealthStatus": {
        "description": "Service health status values.",
        "enum": [
          "healthy",
          "degraded",
          "unhealthy",
          "unknown"
        ],
        "title": "ServiceHealthStatus",
        "type": "string"
      },
      "ServiceStatusResponse": {
        "description": "Service status response.",
        "properties": {
          "endpoint_health": {
            "additionalProperties": {
              "$ref": "#/components/schemas/ServiceHealthStatus"
            },
            "title": "Endpoint Health",
            "type": "object"
          },
          "error_rate": {
            "default": 0.0,
            "description": "Error rate",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Error Rate",
            "type": "number"
          },
          "last_check": {
            "format": "date-time",
            "title": "Last Check",
            "type": "string"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response latency in milliseconds",
            "title": "Latency Ms"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status message",
            "title": "Message"
          },
          "service": {
            "description": "Service name",
            "title": "Service",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/ServiceHealthStatus",
            "description": "Service health status"
          },
          "uptime_percentage": {
            "default": 100.0,
            "description": "Uptime percentage",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Uptime Percentage",
            "type": "number"
          }
        },
        "required": [
          "service",
          "status"
        ],
        "title": "ServiceStatusResponse",
        "type": "object"
      },
      "SessionCreateRequest": {
        "description": "Request model for creating a new chat session.",
        "properties": {
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Session metadata",
            "title": "Metadata"
          },
          "title": {
            "description": "Session title",
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title"
        ],
        "title": "SessionCreateRequest",
        "type": "object"
      },
      "SystemHealth": {
        "description": "Overall system health status.\n\nAttributes:\n    status: Overall health status string.\n    timestamp: Current timestamp.\n    version: API version string.\n    environment: Deployment environment.\n    components: List of component health statuses.",
        "properties": {
          "components": {
            "items": {
              "$ref": "#/components/schemas/tripsage__api__schemas__health__ComponentHealth"
            },
            "title": "Components",
            "type": "array"
          },
          "environment": {
            "title": "Environment",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          },
          "version": {
            "default": "1.0.0",
            "title": "Version",
            "type": "string"
          }
        },
        "required": [
          "status",
          "environment",
          "components"
        ],
        "title": "SystemHealth",
        "type": "object"
      },
      "SystemOverviewResponse": {
        "description": "System overview dashboard response.",
        "properties": {
          "active_api_keys": {
            "description": "Active API keys",
            "title": "Active Api Keys",
            "type": "integer"
          },
          "active_users_24h": {
            "description": "Active users in last 24 hours",
            "title": "Active Users 24H",
            "type": "integer"
          },
          "avg_latency_ms": {
            "default": 0.0,
            "description": "Average response latency",
            "title": "Avg Latency Ms",
            "type": "number"
          },
          "components": {
            "description": "Component health status",
            "items": {
              "$ref": "#/components/schemas/tripsage__api__schemas__dashboard__ComponentHealth"
            },
            "title": "Components",
            "type": "array"
          },
          "environment": {
            "description": "Deployment environment",
            "title": "Environment",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/SystemStatus",
            "description": "Overall system status"
          },
          "success_rate_24h": {
            "description": "Success rate in last 24 hours",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Success Rate 24H",
            "type": "number"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          },
          "total_errors_24h": {
            "description": "Total errors in last 24 hours",
            "title": "Total Errors 24H",
            "type": "integer"
          },
          "total_requests_24h": {
            "description": "Total requests in last 24 hours",
            "title": "Total Requests 24H",
            "type": "integer"
          },
          "uptime_seconds": {
            "description": "System uptime in seconds",
            "title": "Uptime Seconds",
            "type": "integer"
          },
          "version": {
            "default": "1.0.0",
            "description": "API version",
            "title": "Version",
            "type": "string"
          }
        },
        "required": [
          "status",
          "uptime_seconds",
          "environment",
          "total_requests_24h",
          "total_errors_24h",
          "success_rate_24h",
          "active_users_24h",
          "active_api_keys"
        ],
        "title": "SystemOverviewResponse",
        "type": "object"
      },
      "SystemStatus": {
        "description": "Overall system status values.",
        "enum": [
          "healthy",
          "degraded",
          "unhealthy",
          "maintenance"
        ],
        "title": "SystemStatus",
        "type": "string"
      },
      "TimeSlot": {
        "description": "Time slot for itinerary items.",
        "properties": {
          "end_time": {
            "description": "End time",
            "format": "time",
            "title": "End Time",
            "type": "string"
          },
          "start_time": {
            "description": "Start time",
            "format": "time",
            "title": "Start Time",
            "type": "string"
          }
        },
        "required": [
          "start_time",
          "end_time"
        ],
        "title": "TimeSlot",
        "type": "object"
      },
      "ToolCall": {
        "description": "Common model for tool calls in chat messages.",
        "properties": {
          "arguments": {
            "additionalProperties": true,
            "description": "Tool arguments",
            "title": "Arguments",
            "type": "object"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Error message if failed",
            "title": "Error"
          },
          "id": {
            "description": "Unique identifier for the tool call",
            "title": "Id",
            "type": "string"
          },
          "name": {
            "description": "Name of the tool",
            "title": "Name",
            "type": "string"
          },
          "result": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tool result",
            "title": "Result"
          },
          "status": {
            "$ref": "#/components/schemas/ToolCallStatus",
            "default": "pending",
            "description": "Tool call status"
          }
        },
        "required": [
          "id",
          "name"
        ],
        "title": "ToolCall",
        "type": "object"
      },
      "ToolCallStatus": {
        "description": "Valid tool call statuses.",
        "enum": [
          "pending",
          "running",
          "completed",
          "failed"
        ],
        "title": "ToolCallStatus",
        "type": "string"
      },
      "TransportationPreferences": {
        "description": "Transportation preferences for trips.",
        "properties": {
          "flight_preferences": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Flight preferences",
            "example": {
              "max_stops": 1,
              "preferred_airlines": [],
              "seat_class": "economy",
              "time_window": "flexible"
            },
            "title": "Flight Preferences"
          },
          "local_transportation": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred local transportation methods",
            "example": [
              "public_transport",
              "walking"
            ],
            "title": "Local Transportation"
          },
          "max_travel_time_hours": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum acceptable travel time in hours",
            "title": "Max Travel Time Hours"
          }
        },
        "title": "TransportationPreferences",
        "type": "object"
      },
      "TravelAdvisory": {
        "description": "Travel advisory information.",
        "properties": {
          "advisory_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Advisory text",
            "title": "Advisory Text"
          },
          "embassy_info": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Embassy contact information",
            "title": "Embassy Info"
          },
          "health_requirements": {
            "description": "Health requirements",
            "items": {
              "type": "string"
            },
            "title": "Health Requirements",
            "type": "array"
          },
          "last_updated": {
            "description": "Last updated timestamp",
            "format": "date-time",
            "title": "Last Updated",
            "type": "string"
          },
          "restrictions": {
            "description": "Current travel restrictions",
            "items": {
              "type": "string"
            },
            "title": "Restrictions",
            "type": "array"
          },
          "safety_level": {
            "$ref": "#/components/schemas/SafetyLevel",
            "description": "Overall safety level"
          }
        },
        "required": [
          "safety_level",
          "last_updated"
        ],
        "title": "TravelAdvisory",
        "type": "object"
      },
      "TrendDataPoint": {
        "description": "Single data point in a trend series.",
        "properties": {
          "metadata": {
            "additionalProperties": true,
            "description": "Additional context",
            "title": "Metadata",
            "type": "object"
          },
          "timestamp": {
            "description": "Data point timestamp",
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          },
          "value": {
            "description": "Metric value",
            "title": "Value",
            "type": "number"
          }
        },
        "required": [
          "timestamp",
          "value"
        ],
        "title": "TrendDataPoint",
        "type": "object"
      },
      "TripCollaboratorResponse": {
        "description": "Response model for trip collaborator information.",
        "example": {
          "added_at": "2025-01-18T09:45:00Z",
          "added_by": "123e4567-e89b-12d3-a456-426614174001",
          "email": "collaborator@example.com",
          "is_active": true,
          "name": "Alex Planner",
          "permission_level": "edit",
          "user_id": "123e4567-e89b-12d3-a456-426614174000"
        },
        "properties": {
          "added_at": {
            "description": "Timestamp when access was granted",
            "format": "date-time",
            "title": "Added At",
            "type": "string"
          },
          "added_by": {
            "description": "User ID who added this collaborator",
            "format": "uuid",
            "title": "Added By",
            "type": "string"
          },
          "email": {
            "description": "Collaborator email",
            "title": "Email",
            "type": "string"
          },
          "is_active": {
            "default": true,
            "description": "Whether the collaborator is active",
            "title": "Is Active",
            "type": "boolean"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Collaborator name",
            "title": "Name"
          },
          "permission_level": {
            "description": "Permission level (view, edit, admin)",
            "title": "Permission Level",
            "type": "string"
          },
          "user_id": {
            "description": "Collaborator user ID",
            "format": "uuid",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "email",
          "permission_level",
          "added_by",
          "added_at"
        ],
        "title": "TripCollaboratorResponse",
        "type": "object"
      },
      "TripCollaboratorUpdateRequest": {
        "description": "Request model for updating collaborator permissions.",
        "properties": {
          "permission_level": {
            "description": "New permission level (view, edit, admin)",
            "pattern": "^(view|edit|admin)$",
            "title": "Permission Level",
            "type": "string"
          }
        },
        "required": [
          "permission_level"
        ],
        "title": "TripCollaboratorUpdateRequest",
        "type": "object"
      },
      "TripCollaboratorsListResponse": {
        "description": "Response model for listing trip collaborators.",
        "example": {
          "collaborators": [
            {
              "added_at": "2025-01-18T09:45:00Z",
              "added_by": "123e4567-e89b-12d3-a456-426614174001",
              "email": "collaborator@example.com",
              "permission_level": "view",
              "user_id": "123e4567-e89b-12d3-a456-426614174000"
            }
          ],
          "owner_id": "123e4567-e89b-12d3-a456-426614174001",
          "total": 1
        },
        "properties": {
          "collaborators": {
            "description": "List of trip collaborators",
            "items": {
              "$ref": "#/components/schemas/TripCollaboratorResponse"
            },
            "title": "Collaborators",
            "type": "array"
          },
          "owner_id": {
            "description": "Trip owner user ID",
            "format": "uuid",
            "title": "Owner Id",
            "type": "string"
          },
          "total": {
            "description": "Total number of collaborators",
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "collaborators",
          "total",
          "owner_id"
        ],
        "title": "TripCollaboratorsListResponse",
        "type": "object"
      },
      "TripDestination": {
        "description": "Shared model for a trip destination with enhanced geographic support.",
        "properties": {
          "arrival_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Date of arrival",
            "title": "Arrival Date"
          },
          "city": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "City",
            "title": "City"
          },
          "coordinates": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Coordinates"
              },
              {
                "type": "null"
              }
            ],
            "description": "Geographic coordinates"
          },
          "country": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Country",
            "title": "Country"
          },
          "departure_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Date of departure",
            "title": "Departure Date"
          },
          "duration_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Duration in days",
            "title": "Duration Days"
          },
          "name": {
            "description": "Destination name",
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "TripDestination",
        "type": "object"
      },
      "TripListItem": {
        "description": "Response model for trip list items.",
        "example": {
          "created_at": "2025-01-15T14:30:00Z",
          "destinations": [
            "Paris",
            "Rome"
          ],
          "duration_days": 10,
          "end_date": "2025-06-10",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "start_date": "2025-06-01",
          "status": "planning",
          "title": "Summer Vacation"
        },
        "properties": {
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "destinations": {
            "description": "Trip destination names",
            "items": {
              "type": "string"
            },
            "title": "Destinations",
            "type": "array"
          },
          "duration_days": {
            "description": "Trip duration in days",
            "title": "Duration Days",
            "type": "integer"
          },
          "end_date": {
            "description": "Trip end date",
            "format": "date",
            "title": "End Date",
            "type": "string"
          },
          "id": {
            "description": "Trip ID",
            "format": "uuid",
            "title": "Id",
            "type": "string"
          },
          "start_date": {
            "description": "Trip start date",
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "status": {
            "description": "Trip status",
            "title": "Status",
            "type": "string"
          },
          "title": {
            "description": "Trip title",
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "start_date",
          "end_date",
          "duration_days",
          "destinations",
          "status",
          "created_at"
        ],
        "title": "TripListItem",
        "type": "object"
      },
      "TripListResponse": {
        "description": "Response model for a list of trips.",
        "example": {
          "items": [
            {
              "created_at": "2025-01-15T14:30:00Z",
              "destinations": [
                "Paris",
                "Rome"
              ],
              "duration_days": 10,
              "end_date": "2025-06-10",
              "id": "123e4567-e89b-12d3-a456-426614174000",
              "start_date": "2025-06-01",
              "status": "planning",
              "title": "Summer Vacation"
            }
          ],
          "limit": 10,
          "skip": 0,
          "total": 1
        },
        "properties": {
          "items": {
            "description": "List of trips",
            "items": {
              "$ref": "#/components/schemas/TripListItem"
            },
            "title": "Items",
            "type": "array"
          },
          "limit": {
            "description": "Maximum number of trips returned",
            "title": "Limit",
            "type": "integer"
          },
          "skip": {
            "description": "Number of trips skipped",
            "title": "Skip",
            "type": "integer"
          },
          "total": {
            "description": "Total number of trips",
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "items",
          "total",
          "skip",
          "limit"
        ],
        "title": "TripListResponse",
        "type": "object"
      },
      "TripPreferences-Input": {
        "description": "Trip preferences using shared financial and accommodation models.",
        "properties": {
          "accessibility_needs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accessibility needs",
            "example": [
              "wheelchair_accessible",
              "elevator_access"
            ],
            "title": "Accessibility Needs"
          },
          "accommodation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationPreferences-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation preferences"
          },
          "activities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred activities",
            "example": [
              "sightseeing",
              "museums",
              "outdoor_activities"
            ],
            "title": "Activities"
          },
          "budget": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Budget-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip budget"
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Dietary restrictions",
            "example": [
              "vegetarian",
              "gluten_free"
            ],
            "title": "Dietary Restrictions"
          },
          "group_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of travelers",
            "title": "Group Size"
          },
          "transportation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TransportationPreferences"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation preferences"
          },
          "trip_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip style",
            "example": "relaxed",
            "title": "Trip Style"
          }
        },
        "title": "TripPreferences",
        "type": "object"
      },
      "TripPreferences-Output": {
        "description": "Trip preferences using shared financial and accommodation models.",
        "properties": {
          "accessibility_needs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accessibility needs",
            "example": [
              "wheelchair_accessible",
              "elevator_access"
            ],
            "title": "Accessibility Needs"
          },
          "accommodation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationPreferences-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation preferences"
          },
          "activities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred activities",
            "example": [
              "sightseeing",
              "museums",
              "outdoor_activities"
            ],
            "title": "Activities"
          },
          "budget": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Budget-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip budget"
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Dietary restrictions",
            "example": [
              "vegetarian",
              "gluten_free"
            ],
            "title": "Dietary Restrictions"
          },
          "group_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of travelers",
            "title": "Group Size"
          },
          "transportation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TransportationPreferences"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation preferences"
          },
          "trip_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip style",
            "example": "relaxed",
            "title": "Trip Style"
          }
        },
        "title": "TripPreferences",
        "type": "object"
      },
      "TripPreferencesRequest": {
        "description": "Request model for updating trip preferences.",
        "properties": {
          "accessibility_needs": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accessibility needs",
            "example": [
              "wheelchair_accessible",
              "elevator_access"
            ],
            "title": "Accessibility Needs"
          },
          "accommodation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/AccommodationPreferences-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation preferences"
          },
          "activities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred activities",
            "example": [
              "sightseeing",
              "museums",
              "outdoor_activities"
            ],
            "title": "Activities"
          },
          "budget": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Budget-Input"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip budget"
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Dietary restrictions",
            "example": [
              "vegetarian",
              "gluten_free"
            ],
            "title": "Dietary Restrictions"
          },
          "group_size": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of travelers",
            "title": "Group Size"
          },
          "transportation": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TransportationPreferences"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation preferences"
          },
          "trip_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip style",
            "example": "relaxed",
            "title": "Trip Style"
          }
        },
        "title": "TripPreferencesRequest",
        "type": "object"
      },
      "TripResponse": {
        "description": "Response model for trip details.",
        "example": {
          "created_at": "2025-01-15T14:30:00Z",
          "description": "A two-week tour of Western Europe",
          "destinations": [
            {
              "arrival_date": "2025-06-01",
              "city": "Paris",
              "country": "France",
              "departure_date": "2025-06-05",
              "duration_days": 4,
              "name": "Paris"
            }
          ],
          "duration_days": 14,
          "end_date": "2025-06-15",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "itinerary_id": "123e4567-e89b-12d3-a456-426614174001",
          "preferences": {},
          "start_date": "2025-06-01",
          "status": "planning",
          "title": "Summer Vacation in Europe",
          "updated_at": "2025-01-16T09:45:00Z",
          "user_id": "user123"
        },
        "properties": {
          "created_at": {
            "description": "Creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip description",
            "title": "Description"
          },
          "destinations": {
            "description": "Trip destinations",
            "items": {
              "$ref": "#/components/schemas/TripDestination"
            },
            "title": "Destinations",
            "type": "array"
          },
          "duration_days": {
            "description": "Trip duration in days",
            "title": "Duration Days",
            "type": "integer"
          },
          "end_date": {
            "description": "Trip end date",
            "format": "date",
            "title": "End Date",
            "type": "string"
          },
          "id": {
            "description": "Trip ID",
            "format": "uuid",
            "title": "Id",
            "type": "string"
          },
          "itinerary_id": {
            "anyOf": [
              {
                "format": "uuid",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated itinerary ID",
            "title": "Itinerary Id"
          },
          "preferences": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TripPreferences-Output"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip preferences"
          },
          "start_date": {
            "description": "Trip start date",
            "format": "date",
            "title": "Start Date",
            "type": "string"
          },
          "status": {
            "description": "Trip status",
            "title": "Status",
            "type": "string"
          },
          "title": {
            "description": "Trip title",
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "description": "Last update timestamp",
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "user_id",
          "title",
          "start_date",
          "end_date",
          "duration_days",
          "destinations",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "TripResponse",
        "type": "object"
      },
      "TripShareRequest": {
        "description": "Request model for sharing a trip with other users.",
        "example": {
          "message": "Check out these plans!",
          "permission_level": "edit",
          "user_emails": [
            "friend@example.com",
            "planner@example.org"
          ]
        },
        "properties": {
          "message": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional message to send with invitation",
            "title": "Message"
          },
          "permission_level": {
            "default": "view",
            "description": "Permission level (view, edit, admin)",
            "pattern": "^(view|edit|admin)$",
            "title": "Permission Level",
            "type": "string"
          },
          "user_emails": {
            "description": "Email addresses of users to share with",
            "items": {
              "type": "string"
            },
            "maxItems": 50,
            "minItems": 0,
            "title": "User Emails",
            "type": "array"
          }
        },
        "required": [
          "user_emails"
        ],
        "title": "TripShareRequest",
        "type": "object"
      },
      "TripSuggestionResponse": {
        "description": "Response model for trip suggestions.",
        "example": {
          "best_time_to_visit": "March - May",
          "category": "culture",
          "currency": "USD",
          "description": "Experience cherry blossom season in Japan's vibrant capital city.",
          "destination": "Tokyo, Japan",
          "difficulty": "moderate",
          "duration": 7,
          "estimated_price": 2800,
          "highlights": [
            "Cherry Blossoms",
            "Temples",
            "Street Food",
            "Modern Culture"
          ],
          "id": "suggestion-1",
          "image_url": "https://example.com/tokyo-cherry-blossom.jpg",
          "metadata": {
            "language": "Japanese",
            "personalization_reasons": [
              "Based on your interest in cultural experiences",
              "Previous trips to Asia"
            ],
            "visa_required": false,
            "weather": "Mild spring weather"
          },
          "rating": 4.8,
          "relevance_score": 0.95,
          "seasonal": true,
          "title": "Tokyo Cherry Blossom Adventure",
          "trending": true
        },
        "properties": {
          "best_time_to_visit": {
            "description": "Recommended time period",
            "title": "Best Time To Visit",
            "type": "string"
          },
          "category": {
            "description": "Trip category (adventure, relaxation, culture, nature, city, beach)",
            "title": "Category",
            "type": "string"
          },
          "currency": {
            "description": "Price currency",
            "title": "Currency",
            "type": "string"
          },
          "description": {
            "description": "Trip description",
            "title": "Description",
            "type": "string"
          },
          "destination": {
            "description": "Primary destination",
            "title": "Destination",
            "type": "string"
          },
          "difficulty": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip difficulty (easy, moderate, challenging)",
            "title": "Difficulty"
          },
          "duration": {
            "description": "Trip duration in days",
            "title": "Duration",
            "type": "integer"
          },
          "estimated_price": {
            "description": "Estimated total price",
            "title": "Estimated Price",
            "type": "number"
          },
          "highlights": {
            "description": "Key highlights",
            "items": {
              "type": "string"
            },
            "maxItems": 10,
            "title": "Highlights",
            "type": "array"
          },
          "id": {
            "description": "Suggestion ID",
            "title": "Id",
            "type": "string"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Cover image URL",
            "title": "Image Url"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional metadata",
            "title": "Metadata"
          },
          "rating": {
            "description": "Average rating",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Rating",
            "type": "number"
          },
          "relevance_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Personalization relevance score",
            "title": "Relevance Score"
          },
          "seasonal": {
            "default": false,
            "description": "Whether this is seasonal/time-sensitive",
            "title": "Seasonal",
            "type": "boolean"
          },
          "title": {
            "description": "Trip title",
            "title": "Title",
            "type": "string"
          },
          "trending": {
            "default": false,
            "description": "Whether this is a trending destination",
            "title": "Trending",
            "type": "boolean"
          }
        },
        "required": [
          "id",
          "title",
          "destination",
          "description",
          "estimated_price",
          "currency",
          "duration",
          "rating",
          "category",
          "best_time_to_visit",
          "highlights"
        ],
        "title": "TripSuggestionResponse",
        "type": "object"
      },
      "TripSummaryResponse": {
        "description": "Response model for trip summary.",
        "example": {
          "accommodation_summary": "4-star hotels in city centers",
          "budget_summary": {},
          "completion_percentage": 60,
          "date_range": "Jun 1-15, 2025",
          "destinations": [
            "Paris",
            "Rome",
            "Barcelona"
          ],
          "duration_days": 14,
          "has_itinerary": true,
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "title": "Summer Vacation in Europe",
          "transportation_summary": "Economy flights with 1 connection, local transit"
        },
        "properties": {
          "accommodation_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Accommodation summary",
            "title": "Accommodation Summary"
          },
          "budget_summary": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Budget summary",
            "title": "Budget Summary"
          },
          "completion_percentage": {
            "description": "Trip planning completion percentage",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Completion Percentage",
            "type": "integer"
          },
          "date_range": {
            "description": "Trip date range",
            "title": "Date Range",
            "type": "string"
          },
          "destinations": {
            "description": "Trip destination names",
            "items": {
              "type": "string"
            },
            "title": "Destinations",
            "type": "array"
          },
          "duration_days": {
            "description": "Trip duration in days",
            "title": "Duration Days",
            "type": "integer"
          },
          "has_itinerary": {
            "description": "Whether trip has an itinerary",
            "title": "Has Itinerary",
            "type": "boolean"
          },
          "id": {
            "description": "Trip ID",
            "format": "uuid",
            "title": "Id",
            "type": "string"
          },
          "title": {
            "description": "Trip title",
            "title": "Title",
            "type": "string"
          },
          "transportation_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Transportation summary",
            "title": "Transportation Summary"
          }
        },
        "required": [
          "id",
          "title",
          "date_range",
          "duration_days",
          "destinations",
          "has_itinerary",
          "completion_percentage"
        ],
        "title": "TripSummaryResponse",
        "type": "object"
      },
      "UnifiedSearchAggregateResponse": {
        "description": "Aggregate response for unified search.",
        "properties": {
          "did_you_mean": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Did You Mean"
          },
          "errors": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Errors"
          },
          "facets": {
            "items": {
              "$ref": "#/components/schemas/SearchFacet"
            },
            "title": "Facets",
            "type": "array"
          },
          "metadata": {
            "$ref": "#/components/schemas/SearchMetadata"
          },
          "related_searches": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Searches"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResultItem"
            },
            "title": "Results",
            "type": "array"
          },
          "results_by_type": {
            "anyOf": [
              {
                "additionalProperties": {
                  "items": {
                    "$ref": "#/components/schemas/SearchResultItem"
                  },
                  "type": "array"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Results By Type"
          }
        },
        "required": [
          "metadata"
        ],
        "title": "UnifiedSearchAggregateResponse",
        "type": "object"
      },
      "UnifiedSearchRequest": {
        "description": "Request for cross-resource unified search.",
        "properties": {
          "adults": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 1,
            "title": "Adults"
          },
          "children": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 0,
            "title": "Children"
          },
          "destination": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Destination"
          },
          "end_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Date"
          },
          "filters": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SearchFilters"
              },
              {
                "type": "null"
              }
            ]
          },
          "guests": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Guests"
          },
          "infants": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 0,
            "title": "Infants"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "origin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Origin"
          },
          "query": {
            "maxLength": 500,
            "minLength": 1,
            "title": "Query",
            "type": "string"
          },
          "resource_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Types"
          },
          "sort_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sort By"
          },
          "sort_order": {
            "anyOf": [
              {
                "pattern": "^(asc|desc)$",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "desc",
            "title": "Sort Order"
          },
          "start_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Date"
          },
          "types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Types"
          },
          "user_preferences": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "integer"
                    },
                    {
                      "type": "number"
                    },
                    {
                      "type": "boolean"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Preferences"
          }
        },
        "required": [
          "query"
        ],
        "title": "UnifiedSearchRequest",
        "type": "object"
      },
      "UpdatePreferencesRequest": {
        "description": "Partial update of user preferences.",
        "properties": {
          "preferences": {
            "additionalProperties": true,
            "description": "User preferences to update",
            "title": "Preferences",
            "type": "object"
          }
        },
        "required": [
          "preferences"
        ],
        "title": "UpdatePreferencesRequest",
        "type": "object"
      },
      "UpdateTripRequest": {
        "description": "Request model for updating a trip.",
        "example": {
          "description": "Added day trips",
          "destinations": [
            {
              "city": "Florence",
              "country": "Italy",
              "name": "Florence"
            }
          ],
          "end_date": "2025-06-12",
          "start_date": "2025-06-02",
          "title": "Updated European Highlights"
        },
        "properties": {
          "description": {
            "anyOf": [
              {
                "maxLength": 500,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip description",
            "title": "Description"
          },
          "destinations": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/TripDestination"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip destinations",
            "title": "Destinations"
          },
          "end_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip end date",
            "title": "End Date"
          },
          "start_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip start date",
            "title": "Start Date"
          },
          "title": {
            "anyOf": [
              {
                "maxLength": 100,
                "minLength": 1,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Trip title",
            "title": "Title"
          }
        },
        "title": "UpdateTripRequest",
        "type": "object"
      },
      "UsageMetricsResponse": {
        "description": "Usage metrics response.",
        "properties": {
          "avg_latency_ms": {
            "description": "Average response latency",
            "title": "Avg Latency Ms",
            "type": "number"
          },
          "error_breakdown": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Error count by type",
            "title": "Error Breakdown",
            "type": "object"
          },
          "p50_latency_ms": {
            "default": 0.0,
            "description": "50th percentile latency",
            "title": "P50 Latency Ms",
            "type": "number"
          },
          "p95_latency_ms": {
            "default": 0.0,
            "description": "95th percentile latency",
            "title": "P95 Latency Ms",
            "type": "number"
          },
          "p99_latency_ms": {
            "default": 0.0,
            "description": "99th percentile latency",
            "title": "P99 Latency Ms",
            "type": "number"
          },
          "period_end": {
            "description": "Metrics period end time",
            "format": "date-time",
            "title": "Period End",
            "type": "string"
          },
          "period_start": {
            "description": "Metrics period start time",
            "format": "date-time",
            "title": "Period Start",
            "type": "string"
          },
          "success_rate": {
            "description": "Success rate",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Success Rate",
            "type": "number"
          },
          "top_endpoints": {
            "description": "Top accessed endpoints",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Top Endpoints",
            "type": "array"
          },
          "total_errors": {
            "description": "Total number of errors",
            "title": "Total Errors",
            "type": "integer"
          },
          "total_requests": {
            "description": "Total number of requests",
            "title": "Total Requests",
            "type": "integer"
          },
          "unique_endpoints": {
            "description": "Number of unique endpoints accessed",
            "title": "Unique Endpoints",
            "type": "integer"
          },
          "unique_users": {
            "description": "Number of unique users",
            "title": "Unique Users",
            "type": "integer"
          },
          "usage_by_service": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Request count by service",
            "title": "Usage By Service",
            "type": "object"
          }
        },
        "required": [
          "period_start",
          "period_end",
          "total_requests",
          "total_errors",
          "success_rate",
          "avg_latency_ms",
          "unique_users",
          "unique_endpoints"
        ],
        "title": "UsageMetricsResponse",
        "type": "object"
      },
      "UserActivityResponse": {
        "description": "User activity response.",
        "properties": {
          "activity_hours": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Activity by hour",
            "title": "Activity Hours",
            "type": "object"
          },
          "avg_latency_ms": {
            "default": 0.0,
            "description": "Average response latency",
            "title": "Avg Latency Ms",
            "type": "number"
          },
          "error_count": {
            "description": "Total error count",
            "title": "Error Count",
            "type": "integer"
          },
          "last_activity": {
            "description": "Last activity timestamp",
            "format": "date-time",
            "title": "Last Activity",
            "type": "string"
          },
          "peak_activity_hour": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Hour with most activity",
            "title": "Peak Activity Hour"
          },
          "request_count": {
            "description": "Total request count",
            "title": "Request Count",
            "type": "integer"
          },
          "services_used": {
            "description": "Services accessed",
            "items": {
              "type": "string"
            },
            "title": "Services Used",
            "type": "array"
          },
          "success_rate": {
            "description": "Success rate",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Success Rate",
            "type": "number"
          },
          "top_endpoints": {
            "description": "Most used endpoints",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Top Endpoints",
            "type": "array"
          },
          "user_id": {
            "description": "User ID",
            "title": "User Id",
            "type": "string"
          },
          "user_type": {
            "description": "User type (user, agent, admin)",
            "title": "User Type",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "user_type",
          "request_count",
          "error_count",
          "success_rate",
          "last_activity"
        ],
        "title": "UserActivityResponse",
        "type": "object"
      },
      "UserContextResponse": {
        "description": "Response model for user context.",
        "properties": {
          "accommodation_preferences": {
            "description": "Accommodation preferences",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Accommodation Preferences",
            "type": "array"
          },
          "activity_preferences": {
            "description": "Activity preferences",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Activity Preferences",
            "type": "array"
          },
          "budget_patterns": {
            "description": "Budget patterns",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Budget Patterns",
            "type": "array"
          },
          "dietary_restrictions": {
            "description": "Dietary restrictions",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Dietary Restrictions",
            "type": "array"
          },
          "insights": {
            "additionalProperties": true,
            "description": "Derived insights",
            "title": "Insights",
            "type": "object"
          },
          "past_trips": {
            "description": "Past trip memories",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Past Trips",
            "type": "array"
          },
          "preferences": {
            "description": "User preferences",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Preferences",
            "type": "array"
          },
          "saved_destinations": {
            "description": "Saved destinations",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Saved Destinations",
            "type": "array"
          },
          "summary": {
            "default": "",
            "description": "Context summary",
            "title": "Summary",
            "type": "string"
          },
          "travel_style": {
            "description": "Travel style memories",
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Travel Style",
            "type": "array"
          }
        },
        "title": "UserContextResponse",
        "type": "object"
      },
      "UserPreferencesRequest": {
        "description": "Request model for updating user preferences.",
        "properties": {
          "preferences": {
            "additionalProperties": true,
            "description": "User preferences as a flexible JSON object",
            "title": "Preferences",
            "type": "object"
          }
        },
        "required": [
          "preferences"
        ],
        "title": "UserPreferencesRequest",
        "type": "object"
      },
      "UserPreferencesResponse": {
        "description": "Response model for user preferences.",
        "example": {
          "preferences": {
            "currency": "USD",
            "language": "en",
            "notifications": {
              "email": true,
              "marketing": false,
              "push": false
            },
            "theme": "dark",
            "travel_preferences": {
              "accommodation_type": [
                "hotel",
                "resort"
              ],
              "budget_level": "moderate",
              "dietary_restrictions": [
                "vegetarian"
              ],
              "travel_style": [
                "adventure",
                "cultural"
              ]
            }
          }
        },
        "properties": {
          "preferences": {
            "additionalProperties": true,
            "description": "Current user preferences",
            "title": "Preferences",
            "type": "object"
          }
        },
        "required": [
          "preferences"
        ],
        "title": "UserPreferencesResponse",
        "type": "object"
      },
      "UserResponse": {
        "description": "User response model.",
        "properties": {
          "created_at": {
            "description": "Account creation timestamp",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "email": {
            "description": "User email address",
            "format": "email",
            "title": "Email",
            "type": "string"
          },
          "full_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User's full name",
            "title": "Full Name"
          },
          "id": {
            "description": "User ID",
            "title": "Id",
            "type": "string"
          },
          "is_active": {
            "default": true,
            "description": "Whether user account is active",
            "title": "Is Active",
            "type": "boolean"
          },
          "is_verified": {
            "default": false,
            "description": "Whether user account is verified",
            "title": "Is Verified",
            "type": "boolean"
          },
          "preferences": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "User preferences",
            "title": "Preferences"
          },
          "updated_at": {
            "description": "Last update timestamp",
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "username": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Username",
            "title": "Username"
          }
        },
        "required": [
          "id",
          "email",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "_ExportResponse": {
        "description": "Typed dictionary describing the export request acknowledgement payload.",
        "properties": {
          "download_url": {
            "title": "Download Url",
            "type": "string"
          },
          "estimated_completion": {
            "title": "Estimated Completion",
            "type": "string"
          },
          "expires_at": {
            "title": "Expires At",
            "type": "string"
          },
          "export_token": {
            "title": "Export Token",
            "type": "string"
          },
          "format": {
            "title": "Format",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "trip_id": {
            "title": "Trip Id",
            "type": "string"
          }
        },
        "required": [
          "format",
          "trip_id",
          "export_token",
          "status",
          "estimated_completion",
          "download_url",
          "expires_at"
        ],
        "title": "_ExportResponse",
        "type": "object"
      },
      "_ItineraryItem": {
        "description": "Typed dictionary describing an itinerary item in responses.",
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time"
          },
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "start_time",
          "end_time",
          "location"
        ],
        "title": "_ItineraryItem",
        "type": "object"
      },
      "_ItineraryResponse": {
        "description": "Typed dictionary describing an itinerary response payload.",
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/_ItineraryItem"
            },
            "title": "Items",
            "type": "array"
          },
          "total_items": {
            "title": "Total Items",
            "type": "integer"
          },
          "trip_id": {
            "title": "Trip Id",
            "type": "string"
          }
        },
        "required": [
          "id",
          "trip_id",
          "items",
          "total_items"
        ],
        "title": "_ItineraryResponse",
        "type": "object"
      },
      "tripsage__api__schemas__dashboard__ComponentHealth": {
        "description": "Health status of a system component.",
        "properties": {
          "details": {
            "additionalProperties": true,
            "description": "Additional details",
            "title": "Details",
            "type": "object"
          },
          "last_check": {
            "format": "date-time",
            "title": "Last Check",
            "type": "string"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Response latency in milliseconds",
            "title": "Latency Ms"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Status message",
            "title": "Message"
          },
          "name": {
            "description": "Component name",
            "title": "Name",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/ServiceHealthStatus",
            "description": "Component health status"
          }
        },
        "required": [
          "name",
          "status"
        ],
        "title": "ComponentHealth",
        "type": "object"
      },
      "tripsage__api__schemas__health__ComponentHealth": {
        "description": "Health status of a system component.\n\nAttributes:\n    name: Component name.\n    status: Health status string (healthy|degraded|unhealthy|unknown).\n    latency_ms: Optional response latency in milliseconds.\n    message: Optional status message.\n    details: Additional details map.",
        "properties": {
          "details": {
            "additionalProperties": true,
            "title": "Details",
            "type": "object"
          },
          "latency_ms": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latency Ms"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "name",
          "status"
        ],
        "title": "ComponentHealth",
        "type": "object"
      },
      "tripsage_core__models__api__accommodation_models__AccommodationSearchRequest": {
        "description": "Canonical API request model for accommodation search queries.",
        "example": {
          "amenities": [
            "wifi",
            "washer"
          ],
          "check_in": "2025-08-10",
          "check_out": "2025-08-14",
          "currency": "USD",
          "guests": 2,
          "location": "San Francisco",
          "max_price": 350.0,
          "property_types": [
            "apartment"
          ],
          "sort_by": "price",
          "sort_order": "asc",
          "trip_id": "8c808086-7a9f-4a4a-8212-1c0857f0fa4f",
          "user_id": "user-42"
        },
        "properties": {
          "accessibility_features": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required accessibility features",
            "title": "Accessibility Features"
          },
          "adults": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of adults",
            "title": "Adults"
          },
          "amenities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required amenities",
            "title": "Amenities"
          },
          "bathrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bathrooms",
            "title": "Bathrooms"
          },
          "bedrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bedrooms",
            "title": "Bedrooms"
          },
          "beds": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of beds",
            "title": "Beds"
          },
          "check_in": {
            "description": "Check-in date",
            "format": "date",
            "title": "Check In",
            "type": "string"
          },
          "check_out": {
            "description": "Check-out date",
            "format": "date",
            "title": "Check Out",
            "type": "string"
          },
          "children": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of children",
            "title": "Children"
          },
          "currency": {
            "default": "USD",
            "description": "Currency code",
            "title": "Currency",
            "type": "string"
          },
          "free_cancellation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for free cancellation",
            "title": "Free Cancellation"
          },
          "guests": {
            "default": 1,
            "description": "Number of guests",
            "maximum": 16.0,
            "minimum": 1.0,
            "title": "Guests",
            "type": "integer"
          },
          "infants": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of infants",
            "title": "Infants"
          },
          "instant_book": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for instant bookable properties",
            "title": "Instant Book"
          },
          "location": {
            "description": "Search location (city, address, etc.)",
            "title": "Location",
            "type": "string"
          },
          "max_distance_km": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum distance from center",
            "title": "Max Distance Km"
          },
          "max_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price per night",
            "title": "Max Price"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional client-provided context for the search",
            "title": "Metadata"
          },
          "min_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum price per night",
            "title": "Min Price"
          },
          "min_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum property rating",
            "title": "Min Rating"
          },
          "property_types": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PropertyType"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred property types",
            "title": "Property Types"
          },
          "sort_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "relevance",
            "description": "Sort criteria",
            "title": "Sort By"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "asc",
            "description": "Sort order (asc/desc)",
            "title": "Sort Order"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip identifier",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User performing the accommodation search",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "location",
          "check_in",
          "check_out"
        ],
        "title": "AccommodationSearchRequest",
        "type": "object"
      },
      "tripsage_core__models__schemas_common__enums__BookingStatus": {
        "description": "Status of a booking across all booking types (accommodations, flights, etc.).",
        "enum": [
          "viewed",
          "saved",
          "booked",
          "cancelled"
        ],
        "title": "BookingStatus",
        "type": "string"
      },
      "tripsage_core__services__business__accommodation_service__AccommodationSearchRequest": {
        "description": "Request model for accommodation search.",
        "properties": {
          "accessibility_features": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required accessibility features",
            "title": "Accessibility Features"
          },
          "adults": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of adults",
            "title": "Adults"
          },
          "amenities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Required amenities",
            "title": "Amenities"
          },
          "bathrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bathrooms",
            "title": "Bathrooms"
          },
          "bedrooms": {
            "anyOf": [
              {
                "maximum": 10.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of bedrooms",
            "title": "Bedrooms"
          },
          "beds": {
            "anyOf": [
              {
                "maximum": 20.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum number of beds",
            "title": "Beds"
          },
          "check_in": {
            "description": "Check-in date",
            "format": "date",
            "title": "Check In",
            "type": "string"
          },
          "check_out": {
            "description": "Check-out date",
            "format": "date",
            "title": "Check Out",
            "type": "string"
          },
          "children": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of children",
            "title": "Children"
          },
          "currency": {
            "default": "USD",
            "description": "Currency code",
            "title": "Currency",
            "type": "string"
          },
          "free_cancellation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for free cancellation",
            "title": "Free Cancellation"
          },
          "guests": {
            "default": 1,
            "description": "Number of guests",
            "maximum": 16.0,
            "minimum": 1.0,
            "title": "Guests",
            "type": "integer"
          },
          "infants": {
            "anyOf": [
              {
                "maximum": 16.0,
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Number of infants",
            "title": "Infants"
          },
          "instant_book": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "description": "Filter for instant bookable properties",
            "title": "Instant Book"
          },
          "location": {
            "description": "Search location (city, address, etc.)",
            "title": "Location",
            "type": "string"
          },
          "max_distance_km": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum distance from center",
            "title": "Max Distance Km"
          },
          "max_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Maximum price per night",
            "title": "Max Price"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional client-provided context for the search",
            "title": "Metadata"
          },
          "min_price": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum price per night",
            "title": "Min Price"
          },
          "min_rating": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Minimum property rating",
            "title": "Min Rating"
          },
          "property_types": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PropertyType"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Preferred property types",
            "title": "Property Types"
          },
          "sort_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "relevance",
            "description": "Sort criteria",
            "title": "Sort By"
          },
          "sort_order": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "default": "asc",
            "description": "Sort order (asc/desc)",
            "title": "Sort Order"
          },
          "trip_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Associated trip identifier",
            "title": "Trip Id"
          },
          "user_id": {
            "description": "User performing the accommodation search",
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "location",
          "check_in",
          "check_out"
        ],
        "title": "AccommodationSearchRequest",
        "type": "object"
      },
      "tripsage_core__services__business__accommodation_service__BookingStatus": {
        "description": "Accommodation booking status enumeration.",
        "enum": [
          "searched",
          "viewed",
          "saved",
          "inquired",
          "booked",
          "confirmed",
          "cancelled",
          "completed"
        ],
        "title": "BookingStatus",
        "type": "string"
      }
    },
    "securitySchemes": {
      "jwt": {
        "bearerFormat": "JWT",
        "description": "JWT authentication",
        "scheme": "bearer",
        "type": "http"
      }
    }
  },
  "info": {
    "contact": {
      "email": "api@tripsage.example.com",
      "name": "TripSage API Team",
      "url": "https://github.com/BjornMelin/tripsage-ai"
    },
    "description": "\n# TripSage Unified Travel Planning API\n\nA FastAPI implementation that serves both frontend applications\nand AI agents for travel planning.\n\n## Dual Consumer Architecture\n\nThis API is designed to serve multiple consumer types with adapted responses:\n\n### Frontend Consumers (Next.js Web Application)\n- **User-friendly error messages** - Simplified, actionable descriptions\n- **UI metadata** - Display hints, pagination, and user context\n- **Standard rate limits** - Optimized for human interaction patterns\n- **Sanitized data** - Secure, filtered responses for web display\n\n### AI Agent Consumers (LangGraph-based Agents)\n- **Rich context data** - Technical details for decision making\n- **Tool integration metadata** - Information for agent tool calling\n- **Higher rate limits** - Higher throughput for automated workflows\n- **Raw data access** - Unfiltered data for AI processing\n\n## Core Capabilities\n\n### Travel Planning & Management\n* **Trip Planning** - Travel itinerary creation and optimization\n* **Flight Search & Booking** - Multi-provider flight search with price tracking\n* **Accommodation Search** - Hotel and alternative lodging with MCP integration\n* **Destination Research** - AI-powered insights and recommendations\n* **Itinerary Building** - Intelligent scheduling and route optimization\n\n### AI & Communication\n* **Chat System** - Conversation management with AI agents\n* **Memory & Context** - Persistent conversation memory and user learning\n* **Real-time Communication** - Realtime (Supabase) support for live updates\n* **File Processing** - Document analysis and travel document extraction\n\n### Authentication & Security\n* **Dual Authentication** - JWT tokens for users, API keys for agents\n* **BYOK (Bring Your Own Key)** - Secure user-provided API key management\n* **Rate Limiting** - Consumer-aware limits with enhanced principal tracking\n* **Data Protection** - AES-256 encryption for sensitive data\n\n## Authentication Methods\n\n### JWT Authentication (Primary for Frontend)\nObtain a token via `/api/v1/auth/token`, then include in the Authorization header:\n\n```\nPOST /api/v1/auth/token\n{\n  \"username\": \"user@example.com\",\n  \"password\": \"secure_password\"\n}\n\nAuthorization: Bearer <jwt_token>\n```\n\n### API Key Authentication (Primary for Agents)\nCreate an API key via `/api/v1/keys`, then use in the X-API-Key header:\n\n```\nPOST /api/v1/keys (with JWT auth)\n{\n  \"description\": \"Agent access key\"\n}\n\nX-API-Key: <api_key>\n```\n\n### BYOK (Bring Your Own Key) System\nStore encrypted user API keys for external services:\n\n```\nPOST /api/v1/keys\n{\n  \"service\": \"duffel\",\n  \"api_key\": \"user_provided_key\",\n  \"description\": \"My Duffel API key\"\n}\n```\n\n## Consumer-Specific Response Formats\n\n### Frontend Response Example\n```json\n{\n  \"data\": [...],\n  \"meta\": {\n    \"ui_hints\": {\n      \"show_loading\": false,\n      \"suggested_actions\": [\"book_now\", \"save_for_later\"]\n    },\n    \"pagination\": {\n      \"page\": 1,\n      \"total_pages\": 5,\n      \"has_next\": true\n    }\n  }\n}\n```\n\n### Agent Response Example\n```json\n{\n  \"data\": [...],\n  \"agent_context\": {\n    \"tool_suggestions\": [\"search_alternatives\", \"check_price_history\"],\n    \"reasoning_context\": \"User prefers budget options\",\n    \"confidence_score\": 0.95\n  }\n}\n```\n\n## Performance Features\n\n* **Multi-tier Caching** - Upstash Redis with intelligent TTL\n* **Consumer-aware Rate Limiting** - Higher limits for agents vs. frontend\n* **Connection Pooling** - Optimized database and external API connections\n* **Query Optimization** - Indexed searches and prepared statements\n\n## Rate Limiting\n\nConsumer-aware rate limiting with different limits:\n\n* **Frontend Users**: 100 requests/minute, 1000 requests/hour\n* **AI Agents**: 500 requests/minute, 5000 requests/hour\n* **Authenticated Users**: 5x multiplier on base limits\n* **BYOK Users**: Higher limits when using own API keys\n\n## Error Handling\n\nThe API returns consumer-specific error formats:\n\n### Frontend Error Format\n```json\n{\n  \"error\": {\n    \"type\": \"validation_error\",\n    \"message\": \"Please check your travel dates\",\n    \"field\": \"departure_date\",\n    \"suggestion\": \"Departure date must be in the future\"\n  }\n}\n```\n\n### Agent Error Format\n```json\n{\n  \"error\": {\n    \"type\": \"external_api_error\",\n    \"service\": \"duffel\",\n    \"status_code\": 429,\n    \"retry_after\": 60,\n    \"fallback_available\": true,\n    \"technical_details\": \"Rate limit exceeded for flight search endpoint\"\n  }\n}\n```\n\n## Real-time Features\n\nReal-time messaging is provided via Supabase Realtime private channels with RLS\nauthorization (no custom Realtime (Supabase) endpoints).\n\n## Integration with TripSage Core\n\nThis API leverages the `tripsage_core` shared library for:\n\n* **Business Services** - Flight, accommodation, memory, and chat services\n* **Infrastructure Services** - Database, caching, and Realtime (Supabase) management\n* **External API Integration** - Standardized patterns for third-party services\n* **Security & Configuration** - Centralized settings and encryption\n",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    },
    "termsOfService": "https://tripsage.example.com/terms/",
    "title": "TripSage Unified API",
    "version": "1.0.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/api/accommodations/details": {
      "post": {
        "description": "Get details of a specific accommodation listing.\n\nArgs:\n    request: Accommodation details parameters\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nReturns:\n    Accommodation details\n\nRaises:\n    ResourceNotFoundError: If the accommodation listing is not found",
        "operationId": "get_accommodation_details_api_accommodations_details_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AccommodationDetailsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccommodationDetailsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Accommodation Details",
        "tags": [
          "accommodations"
        ]
      }
    },
    "/api/accommodations/saved": {
      "get": {
        "description": "List saved accommodations for a user, optionally filtered by trip.\n\nArgs:\n    trip_id: Optional trip ID to filter by\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nReturns:\n    List of saved accommodations",
        "operationId": "list_saved_accommodations_api_accommodations_saved_get",
        "parameters": [
          {
            "in": "query",
            "name": "trip_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "uuid",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Trip Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SavedAccommodationResponse"
                  },
                  "title": "Response List Saved Accommodations Api Accommodations Saved Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Saved Accommodations",
        "tags": [
          "accommodations"
        ]
      },
      "post": {
        "description": "Save an accommodation listing for a trip.\n\nArgs:\n    request: Save accommodation request\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nReturns:\n    Saved accommodation response\n\nRaises:\n    ResourceNotFoundError: If the accommodation listing is not found",
        "operationId": "save_accommodation_api_accommodations_saved_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavedAccommodationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedAccommodationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Save Accommodation",
        "tags": [
          "accommodations"
        ]
      }
    },
    "/api/accommodations/saved/{saved_accommodation_id}": {
      "delete": {
        "description": "Delete a saved accommodation.\n\nArgs:\n    saved_accommodation_id: Saved accommodation ID\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nRaises:\n    ResourceNotFoundError: If the saved accommodation is not found",
        "operationId": "delete_saved_accommodation_api_accommodations_saved__saved_accommodation_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "saved_accommodation_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Saved Accommodation Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Saved Accommodation",
        "tags": [
          "accommodations"
        ]
      }
    },
    "/api/accommodations/saved/{saved_accommodation_id}/status": {
      "patch": {
        "description": "Update the status of a saved accommodation.\n\nArgs:\n    saved_accommodation_id: Saved accommodation ID\n    status: New status\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nReturns:\n    Updated saved accommodation\n\nRaises:\n    ResourceNotFoundError: If the saved accommodation is not found",
        "operationId": "update_saved_accommodation_status_api_accommodations_saved__saved_accommodation_id__status_patch",
        "parameters": [
          {
            "in": "path",
            "name": "saved_accommodation_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Saved Accommodation Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/tripsage_core__services__business__accommodation_service__BookingStatus"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedAccommodationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Saved Accommodation Status",
        "tags": [
          "accommodations"
        ]
      }
    },
    "/api/accommodations/search": {
      "post": {
        "description": "Search for accommodations based on the provided criteria.\n\nArgs:\n    request: Accommodation search parameters\n    principal: Current authenticated principal\n    accommodation_service: Injected accommodation service\n\nReturns:\n    Accommodation search results",
        "operationId": "search_accommodations_api_accommodations_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/tripsage_core__models__api__accommodation_models__AccommodationSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccommodationSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Accommodations",
        "tags": [
          "accommodations"
        ]
      }
    },
    "/api/activities/save": {
      "post": {
        "description": "Save an activity for a user.\n\nSecurity features:\n- User authentication required\n- Trip access verification if trip_id provided\n- Audit logging for save operations\n- Database persistence with user isolation",
        "operationId": "save_activity_api_activities_save_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveActivityRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedActivityResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Save Activity",
        "tags": [
          "activities"
        ]
      }
    },
    "/api/activities/saved": {
      "get": {
        "description": "Get all activities saved by a user.\n\nSecurity features:\n- User authentication required\n- User data isolation (only returns user's saved activities)\n- Audit logging for data access\n- Pagination support",
        "operationId": "get_saved_activities_api_activities_saved_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SavedActivityResponse"
                  },
                  "title": "Response Get Saved Activities Api Activities Saved Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Saved Activities",
        "tags": [
          "activities"
        ]
      }
    },
    "/api/activities/saved/{activity_id}": {
      "delete": {
        "description": "Delete a saved activity for a user.\n\nSecurity features:\n- User authentication required\n- User authorization (can only delete own saved activities)\n- Audit logging for deletion operations\n- Data integrity checks",
        "operationId": "delete_saved_activity_api_activities_saved__activity_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "activity_id",
            "required": true,
            "schema": {
              "title": "Activity Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Saved Activity",
        "tags": [
          "activities"
        ]
      }
    },
    "/api/activities/search": {
      "post": {
        "description": "Search for activities based on provided criteria using Google Maps Places API.\n\nThis endpoint searches for activities, attractions, and points of interest\nin the specified destination using real-time data from Google Maps.",
        "operationId": "search_activities_api_activities_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ActivitySearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivitySearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Activities",
        "tags": [
          "activities"
        ]
      }
    },
    "/api/activities/{activity_id}": {
      "get": {
        "description": "Get detailed information about a specific activity.\n\nRetrieves details for an activity including enhanced\ninformation from Google Maps Places API.",
        "operationId": "get_activity_details_api_activities__activity_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "activity_id",
            "required": true,
            "schema": {
              "title": "Activity Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Activity Details",
        "tags": [
          "activities"
        ]
      }
    },
    "/api/attachments/files": {
      "get": {
        "description": "List files uploaded by the current user with pagination.",
        "operationId": "list_files_api_attachments_files_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Principal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Files",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/attachments/files/{file_id}": {
      "delete": {
        "description": "Delete an uploaded file and its associated data.\n\nOnly allows deletion of files owned by the current user.",
        "operationId": "delete_file_api_attachments_files__file_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "file_id",
            "required": true,
            "schema": {
              "title": "File Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Principal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteFileResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete File",
        "tags": [
          "attachments"
        ]
      },
      "get": {
        "description": "Get metadata and analysis results for an uploaded file.\n\nOnly returns files owned by the current user for security.",
        "operationId": "get_file_metadata_api_attachments_files__file_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "file_id",
            "required": true,
            "schema": {
              "title": "File Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Principal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileMetadataResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get File Metadata",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/attachments/files/{file_id}/download": {
      "get": {
        "description": "Download a file securely.\n\nOnly allows download of files owned by the current user.\nReturns the file content with appropriate headers for download.",
        "operationId": "download_file_api_attachments_files__file_id__download_get",
        "parameters": [
          {
            "in": "path",
            "name": "file_id",
            "required": true,
            "schema": {
              "title": "File Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Principal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Download File",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/attachments/trips/{trip_id}/attachments": {
      "get": {
        "description": "List all attachments for a specific trip.\n\nOnly returns attachments for trips the user has access to.\n\nSecurity features:\n- Trip access verification (owner or collaborator)\n- Audit logging for access attempts\n- Authorization error handling",
        "operationId": "list_trip_attachments_api_attachments_trips__trip_id__attachments_get",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "title": "Trip Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Principal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Trip Attachments",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/attachments/upload": {
      "post": {
        "description": "Upload and process a single file attachment.\n\nSecurity features:\n- File type validation\n- Size limit enforcement\n- Virus scanning (when available)\n- User isolation\n\nAI features:\n- Document text extraction\n- Travel information analysis\n- Structured data extraction",
        "operationId": "upload_file_api_attachments_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_api_attachments_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileUploadResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upload File",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/attachments/upload/batch": {
      "post": {
        "description": "Upload and process multiple files in a batch.\n\nValidates total session size limit and processes files individually\nfor better error handling and progress tracking.",
        "operationId": "upload_files_batch_api_attachments_upload_batch_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_files_batch_api_attachments_upload_batch_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchUploadResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upload Files Batch",
        "tags": [
          "attachments"
        ]
      }
    },
    "/api/auth/register": {
      "post": {
        "description": "Register a new user.\n\nArgs:\n    user_data: User registration data\n    user_service: Injected user service\n\nReturns:\n    The created user\n\nRaises:\n    HTTPException: If the email is already registered",
        "operationId": "register_api_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Register a new user",
        "tags": [
          "auth"
        ]
      }
    },
    "/api/chat/": {
      "post": {
        "description": "Handle chat requests with optional streaming and session persistence.\n\nArgs:\n    chat_request: Chat request with messages and options\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n\nReturns:\n    ChatResponse: Chat response with assistant message.\n\nRaises:\n    HTTPException: If chat request processing fails.",
        "operationId": "chat_api_chat__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Chat",
        "tags": [
          "chat"
        ]
      }
    },
    "/api/chat/sessions": {
      "get": {
        "description": "List chat sessions for the current user.\n\nArgs:\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n\nReturns:\n    list[dict]: List of user's chat sessions.\n\nRaises:\n    HTTPException: If session listing fails.",
        "operationId": "list_sessions_api_chat_sessions_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response List Sessions Api Chat Sessions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Sessions",
        "tags": [
          "chat"
        ]
      },
      "post": {
        "description": "Create a new chat session.\n\nArgs:\n    body: Session creation request body\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service",
        "operationId": "create_session_api_chat_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Create Session Api Chat Sessions Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Session",
        "tags": [
          "chat"
        ]
      }
    },
    "/api/chat/sessions/{session_id}": {
      "delete": {
        "description": "Delete a chat session.\n\nArgs:\n    session_id: Session ID to delete\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n\nReturns:\n    Success message",
        "operationId": "delete_session_api_chat_sessions__session_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Session",
        "tags": [
          "chat"
        ]
      },
      "get": {
        "description": "Get a specific chat session.\n\nArgs:\n    session_id: Session ID\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n\nReturns:\n    Session details",
        "operationId": "get_session_api_chat_sessions__session_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Session Api Chat Sessions  Session Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session",
        "tags": [
          "chat"
        ]
      }
    },
    "/api/chat/sessions/{session_id}/messages": {
      "get": {
        "description": "Get messages from a chat session.\n\nArgs:\n    session_id: Session ID\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n    limit: Maximum number of messages to return\n\nReturns:\n    List of session messages",
        "operationId": "get_session_messages_api_chat_sessions__session_id__messages_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Session Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Session Messages Api Chat Sessions  Session Id  Messages Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session Messages",
        "tags": [
          "chat"
        ]
      },
      "post": {
        "description": "Create a new message in a session.\n\nArgs:\n    session_id: Session ID\n    http_request: Raw HTTP request (required by SlowAPI for headers)\n    http_response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    chat_service: Unified chat service\n    body: Message creation request body",
        "operationId": "create_message_api_chat_sessions__session_id__messages_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Session Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Create Message Api Chat Sessions  Session Id  Messages Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Message",
        "tags": [
          "chat"
        ]
      }
    },
    "/api/chat/stream": {
      "post": {
        "description": "Stream chat responses as Server-Sent Events (SSE).\n\nYields JSON lines formatted as SSE: \"data: {json}\\n\\n\" where json contains\ntoken deltas and a final message.\n\nArgs:\n    request: Chat request with messages and options.\n    http_request: Raw HTTP request (required by SlowAPI for headers).\n    http_response: Raw HTTP response (required by SlowAPI for headers).\n    principal: Current authenticated principal.\n\nYields:\n    str: Server-Sent Events formatted strings with chat response data.\n\nRaises:\n    HTTPException: If streaming setup or processing fails.",
        "operationId": "chat_stream_api_chat_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Chat Stream",
        "tags": [
          "chat"
        ]
      }
    },
    "/api/config/agents": {
      "get": {
        "description": "List all available agent types.",
        "operationId": "list_agent_types_api_config_agents_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "string"
                  },
                  "title": "Response List Agent Types Api Config Agents Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Agent Types",
        "tags": [
          "configuration",
          "configuration"
        ]
      }
    },
    "/api/config/agents/{agent_type}": {
      "get": {
        "description": "Get current configuration for a specific agent type.",
        "operationId": "get_agent_config_api_config_agents__agent_type__get",
        "parameters": [
          {
            "in": "path",
            "name": "agent_type",
            "required": true,
            "schema": {
              "title": "Agent Type",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentConfigResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Agent Config",
        "tags": [
          "configuration",
          "configuration"
        ]
      },
      "put": {
        "description": "Update configuration for a specific agent type.",
        "operationId": "update_agent_config_api_config_agents__agent_type__put",
        "parameters": [
          {
            "in": "path",
            "name": "agent_type",
            "required": true,
            "schema": {
              "title": "Agent Type",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentConfigRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentConfigResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Agent Config",
        "tags": [
          "configuration",
          "configuration"
        ]
      }
    },
    "/api/config/agents/{agent_type}/rollback/{version_id}": {
      "post": {
        "description": "Rollback agent configuration to a specific version.",
        "operationId": "rollback_agent_config_api_config_agents__agent_type__rollback__version_id__post",
        "parameters": [
          {
            "in": "path",
            "name": "agent_type",
            "required": true,
            "schema": {
              "title": "Agent Type",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "version_id",
            "required": true,
            "schema": {
              "title": "Version Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Rollback Agent Config",
        "tags": [
          "configuration",
          "configuration"
        ]
      }
    },
    "/api/config/agents/{agent_type}/versions": {
      "get": {
        "description": "Get configuration version history for an agent type.",
        "operationId": "get_agent_config_versions_api_config_agents__agent_type__versions_get",
        "parameters": [
          {
            "in": "path",
            "name": "agent_type",
            "required": true,
            "schema": {
              "title": "Agent Type",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ConfigurationVersion-Output"
                  },
                  "title": "Response Get Agent Config Versions Api Config Agents  Agent Type  Versions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Agent Config Versions",
        "tags": [
          "configuration",
          "configuration"
        ]
      }
    },
    "/api/config/environment": {
      "get": {
        "description": "Get current environment configuration summary.",
        "operationId": "get_environment_config_api_config_environment_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Environment Config Api Config Environment Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Environment Config",
        "tags": [
          "configuration",
          "configuration"
        ]
      }
    },
    "/api/dashboard/alerts": {
      "get": {
        "description": "Get system alerts and notifications.\n\nReturns alerts filtered by severity and acknowledgment status:\n- Security, performance, error rate, and anomaly detection alerts",
        "operationId": "get_alerts_api_dashboard_alerts_get",
        "parameters": [
          {
            "in": "query",
            "name": "severity",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Severity"
            }
          },
          {
            "in": "query",
            "name": "acknowledged",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Acknowledged"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AlertInfoResponse"
                  },
                  "title": "Response Get Alerts Api Dashboard Alerts Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Alerts",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/alerts/{alert_id}": {
      "delete": {
        "description": "Dismiss an alert.",
        "operationId": "dismiss_alert_api_dashboard_alerts__alert_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "alert_id",
            "required": true,
            "schema": {
              "title": "Alert Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Dismiss Alert Api Dashboard Alerts  Alert Id  Delete",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Dismiss Alert",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/alerts/{alert_id}/acknowledge": {
      "post": {
        "description": "Acknowledge an alert.",
        "operationId": "acknowledge_alert_api_dashboard_alerts__alert_id__acknowledge_post",
        "parameters": [
          {
            "in": "path",
            "name": "alert_id",
            "required": true,
            "schema": {
              "title": "Alert Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Acknowledge Alert Api Dashboard Alerts  Alert Id  Acknowledge Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Acknowledge Alert",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/analytics/summary": {
      "get": {
        "description": "Get analytics summary.\n\nReturns analytics including:\n- System performance overview\n- Service health summary\n- Usage patterns\n- Top performing and problematic areas",
        "operationId": "get_analytics_summary_api_dashboard_analytics_summary_get",
        "parameters": [
          {
            "in": "query",
            "name": "time_range_hours",
            "required": false,
            "schema": {
              "default": 24,
              "maximum": 168,
              "minimum": 1,
              "title": "Time Range Hours",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Analytics Summary Api Dashboard Analytics Summary Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Analytics Summary",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/metrics": {
      "get": {
        "description": "Get usage metrics for specified time range.\n\nReturns usage metrics including:\n- Request and error counts\n- Latency statistics\n- Top endpoints\n- Error breakdown by type",
        "operationId": "get_usage_metrics_api_dashboard_metrics_get",
        "parameters": [
          {
            "in": "query",
            "name": "time_range_hours",
            "required": false,
            "schema": {
              "default": 24,
              "maximum": 168,
              "minimum": 1,
              "title": "Time Range Hours",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "service",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Service"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageMetricsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Usage Metrics",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/overview": {
      "get": {
        "description": "Get system overview for dashboard.\n\nReturns high-level system metrics and status including:\n- Overall system health\n- Request and error counts\n- Active users and API keys\n- Success rates",
        "operationId": "get_system_overview_api_dashboard_overview_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemOverviewResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get System Overview",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/rate-limits": {
      "get": {
        "description": "Get rate limit status for API keys.\n\nReturns current rate limit status for active API keys including:\n- Current usage vs limits, remaining quota, and reset times",
        "operationId": "get_rate_limits_status_api_dashboard_rate_limits_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/RateLimitInfoResponse"
                  },
                  "title": "Response Get Rate Limits Status Api Dashboard Rate Limits Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Rate Limits Status",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/services": {
      "get": {
        "description": "Get status of all external services.\n\nReturns health status for all integrated external services:\n- OpenAI, Weather API, Google Maps, and other configured services",
        "operationId": "get_services_status_api_dashboard_services_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ServiceStatusResponse"
                  },
                  "title": "Response Get Services Status Api Dashboard Services Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Services Status",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/trends/{metric_type}": {
      "get": {
        "description": "Get trend data for specified metric.\n\nReturns time series data for metrics like:\n- request_count, error_rate, latency, and active_users",
        "operationId": "get_trend_data_api_dashboard_trends__metric_type__get",
        "parameters": [
          {
            "in": "path",
            "name": "metric_type",
            "required": true,
            "schema": {
              "title": "Metric Type",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "time_range_hours",
            "required": false,
            "schema": {
              "default": 24,
              "maximum": 168,
              "minimum": 1,
              "title": "Time Range Hours",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "interval_minutes",
            "required": false,
            "schema": {
              "default": 60,
              "maximum": 1440,
              "minimum": 5,
              "title": "Interval Minutes",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TrendDataPoint"
                  },
                  "title": "Response Get Trend Data Api Dashboard Trends  Metric Type  Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trend Data",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/dashboard/users/activity": {
      "get": {
        "description": "Get user activity data.\n\nReturns user activity metrics including:\n- Request counts and success rates\n- Services used\n- Last activity times",
        "operationId": "get_user_activity_api_dashboard_users_activity_get",
        "parameters": [
          {
            "in": "query",
            "name": "time_range_hours",
            "required": false,
            "schema": {
              "default": 24,
              "maximum": 168,
              "minimum": 1,
              "title": "Time Range Hours",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UserActivityResponse"
                  },
                  "title": "Response Get User Activity Api Dashboard Users Activity Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get User Activity",
        "tags": [
          "dashboard",
          "dashboard"
        ]
      }
    },
    "/api/destinations/recommendations": {
      "post": {
        "description": "Get personalized destination recommendations.",
        "operationId": "get_destination_recommendations_api_destinations_recommendations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DestinationRecommendationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/DestinationRecommendation-Output"
                  },
                  "title": "Response Get Destination Recommendations Api Destinations Recommendations Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Destination Recommendations",
        "tags": [
          "destinations"
        ]
      }
    },
    "/api/destinations/saved": {
      "get": {
        "description": "Return destinations saved by the authenticated user.",
        "operationId": "list_saved_destinations_api_destinations_saved_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SavedDestination"
                  },
                  "title": "Response List Saved Destinations Api Destinations Saved Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Saved Destinations",
        "tags": [
          "destinations"
        ]
      },
      "post": {
        "description": "Save a destination for the authenticated user.",
        "operationId": "save_destination_api_destinations_saved_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavedDestinationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SavedDestination"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Save Destination",
        "tags": [
          "destinations"
        ]
      }
    },
    "/api/destinations/search": {
      "post": {
        "description": "Search destinations using the consolidated destination service.",
        "operationId": "search_destinations_api_destinations_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DestinationSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DestinationSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Destinations",
        "tags": [
          "destinations"
        ]
      }
    },
    "/api/destinations/{destination_id}": {
      "get": {
        "description": "Retrieve detailed information about a destination.",
        "operationId": "get_destination_details_api_destinations__destination_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "destination_id",
            "required": true,
            "schema": {
              "title": "Destination Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Destination-Output"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Destination Details",
        "tags": [
          "destinations"
        ]
      }
    },
    "/api/flights/bookings": {
      "get": {
        "description": "List bookings for the authenticated user with optional filters.\n\nArgs:\n    trip_id: Optional trip identifier filter.\n    status_filter: Optional booking status filter.\n    limit: Maximum number of bookings to return.\n    principal: Authenticated user context.\n    flight_service: Injected flight service.\n\nReturns:\n    A list of bookings matching the provided filters.",
        "operationId": "list_bookings_api_flights_bookings_get",
        "parameters": [
          {
            "in": "query",
            "name": "trip_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "uuid",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Trip Id"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/tripsage_core__models__schemas_common__enums__BookingStatus"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/FlightBooking"
                  },
                  "title": "Response List Bookings Api Flights Bookings Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Bookings",
        "tags": [
          "flights"
        ]
      },
      "post": {
        "description": "Book a flight offer for the authenticated user.\n\nArgs:\n    request: Booking payload containing offer and passenger data.\n    principal: Authenticated user context.\n    flight_service: Injected flight service.\n\nReturns:\n    Confirmed booking details.\n\nRaises:\n    HTTPException: 404 if the offer cannot be found, 422 for validation\n    errors, and 502 for downstream failures.",
        "operationId": "book_flight_api_flights_bookings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlightBookingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlightBooking"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Book Flight",
        "tags": [
          "flights"
        ]
      }
    },
    "/api/flights/bookings/{booking_id}": {
      "delete": {
        "description": "Cancel an existing booking for the authenticated user.\n\nArgs:\n    booking_id: Identifier of the booking to cancel.\n    principal: Authenticated user context.\n    flight_service: Injected flight service.\n\nRaises:\n    HTTPException: 404 if the booking is not found or cannot be cancelled,\n    502 for downstream errors.",
        "operationId": "cancel_booking_api_flights_bookings__booking_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "booking_id",
            "required": true,
            "schema": {
              "title": "Booking Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Cancel Booking",
        "tags": [
          "flights"
        ]
      }
    },
    "/api/flights/offers/{offer_id}": {
      "get": {
        "description": "Retrieve detailed information about a specific flight offer.\n\nArgs:\n    offer_id: Identifier returned from a previous search.\n    principal: Authenticated user context.\n    flight_service: Injected flight service instance.\n\nReturns:\n    Detailed flight offer information.\n\nRaises:\n    HTTPException: 404 if the offer is unknown, 502 for service failures.",
        "operationId": "get_flight_offer_api_flights_offers__offer_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "offer_id",
            "required": true,
            "schema": {
              "title": "Offer Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlightOffer"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Flight Offer",
        "tags": [
          "flights"
        ]
      }
    },
    "/api/flights/search": {
      "post": {
        "description": "Search for flight offers using the unified flight service.\n\nArgs:\n    request: Typed flight search parameters validated by Pydantic.\n    principal: Authenticated user context (unused directly but enforces auth).\n    flight_service: Injected flight service instance.\n\nReturns:\n    Search results including offers, metadata, and cache indicators.\n\nRaises:\n    HTTPException: If the underlying service raises a handled error.",
        "operationId": "search_flights_api_flights_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FlightSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FlightSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Flights",
        "tags": [
          "flights"
        ]
      }
    },
    "/api/health": {
      "get": {
        "description": "Comprehensive health check endpoint with all components.\n\nReturns detailed health status of the application and all its dependencies.",
        "operationId": "comprehensive_health_check_api_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemHealth"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Comprehensive Health Check",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/health/cache": {
      "get": {
        "description": "Detailed cache (Redis) health check.\n\nReturns cache health information including:\n- Connection status\n- Memory usage\n- Key statistics",
        "operationId": "cache_health_check_api_health_cache_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/tripsage__api__schemas__health__ComponentHealth"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Cache Health Check",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/health/database": {
      "get": {
        "description": "Detailed database health check.\n\nReturns database health information including:\n- Connection status\n- Query performance\n- Connection pool stats",
        "operationId": "database_health_check_api_health_database_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/tripsage__api__schemas__health__ComponentHealth"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Database Health Check",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/health/liveness": {
      "get": {
        "description": "Basic liveness check for container orchestration.\n\nReturns 200 if the application is alive and can respond to requests.\nThis endpoint should be lightweight and not check external dependencies.",
        "operationId": "liveness_check_api_health_liveness_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Liveness Check Api Health Liveness Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Liveness Check",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/health/ratelimit": {
      "get": {
        "description": "Show current rate-limiting backend information (operators).",
        "operationId": "ratelimit_status_api_health_ratelimit_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Ratelimit Status Api Health Ratelimit Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Ratelimit Status",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/health/readiness": {
      "get": {
        "description": "Readiness check for container orchestration.\n\nReturns whether the application is ready to serve traffic.\nChecks critical dependencies but with shorter timeouts.",
        "operationId": "readiness_check_api_health_readiness_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReadinessCheck"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Readiness Check",
        "tags": [
          "health",
          "health"
        ]
      }
    },
    "/api/itineraries": {
      "get": {
        "description": "List all itineraries for the current user.",
        "operationId": "list_itineraries_api_itineraries_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ItineraryResponse"
                  },
                  "title": "Response List Itineraries Api Itineraries Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Itineraries",
        "tags": [
          "itineraries"
        ]
      },
      "post": {
        "description": "Create a new itinerary.",
        "operationId": "create_itinerary_api_itineraries_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItineraryCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Itinerary",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/optimize": {
      "post": {
        "description": "Optimize an itinerary based on provided settings.",
        "operationId": "optimize_itinerary_api_itineraries_optimize_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItineraryOptimizeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryOptimizeResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Optimize Itinerary",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/search": {
      "post": {
        "description": "Search for itineraries based on criteria.",
        "operationId": "search_itineraries_api_itineraries_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItinerarySearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItinerarySearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Itineraries",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/{itinerary_id}": {
      "delete": {
        "description": "Delete an itinerary.",
        "operationId": "delete_itinerary_api_itineraries__itinerary_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Itinerary",
        "tags": [
          "itineraries"
        ]
      },
      "get": {
        "description": "Get a specific itinerary by ID.",
        "operationId": "get_itinerary_api_itineraries__itinerary_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Itinerary",
        "tags": [
          "itineraries"
        ]
      },
      "put": {
        "description": "Update an existing itinerary.",
        "operationId": "update_itinerary_api_itineraries__itinerary_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItineraryUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Itinerary",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/{itinerary_id}/conflicts": {
      "get": {
        "description": "Check for conflicts in an itinerary schedule.",
        "operationId": "check_itinerary_conflicts_api_itineraries__itinerary_id__conflicts_get",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryConflictCheckResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Check Itinerary Conflicts",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/{itinerary_id}/items": {
      "post": {
        "description": "Add an item to an itinerary.",
        "operationId": "add_item_to_itinerary_api_itineraries__itinerary_id__items_post",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItineraryItemCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryItemResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Add Item To Itinerary",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/itineraries/{itinerary_id}/items/{item_id}": {
      "delete": {
        "description": "Delete an item from an itinerary.",
        "operationId": "delete_itinerary_item_api_itineraries__itinerary_id__items__item_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "title": "Item Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Itinerary Item",
        "tags": [
          "itineraries"
        ]
      },
      "get": {
        "description": "Get a specific item from an itinerary.",
        "operationId": "get_itinerary_item_api_itineraries__itinerary_id__items__item_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "title": "Item Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryItemResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Itinerary Item",
        "tags": [
          "itineraries"
        ]
      },
      "put": {
        "description": "Update an item in an itinerary.",
        "operationId": "update_itinerary_item_api_itineraries__itinerary_id__items__item_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "itinerary_id",
            "required": true,
            "schema": {
              "title": "Itinerary Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "item_id",
            "required": true,
            "schema": {
              "title": "Item Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItineraryItemUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItineraryItemResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Itinerary Item",
        "tags": [
          "itineraries"
        ]
      }
    },
    "/api/memory/clear": {
      "delete": {
        "description": "Clear all memories for the user.\n\nArgs:\n    confirm: Confirmation flag\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n\nReturns:\n    Operation result",
        "operationId": "clear_user_memory_api_memory_clear_delete",
        "parameters": [
          {
            "in": "query",
            "name": "confirm",
            "required": false,
            "schema": {
              "default": false,
              "title": "Confirm",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Clear User Memory Api Memory Clear Delete",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Clear User Memory",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/context": {
      "get": {
        "description": "Get user context and preferences.\n\nArgs:\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n\nReturns:\n    UserContextResponse model with preferences and context",
        "operationId": "get_user_context_api_memory_context_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserContextResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get User Context",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/conversation": {
      "post": {
        "description": "Add conversation messages to user memory.\n\nArgs:\n    payload: Conversation memory request\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n    response: Response object for SlowAPI header injection\n    request: Raw HTTP request (required by SlowAPI limiter)\n\nReturns:\n    Operation result",
        "operationId": "add_conversation_memory_api_memory_conversation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationMemoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Add Conversation Memory Api Memory Conversation Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Add Conversation Memory",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/memory/{memory_id}": {
      "delete": {
        "description": "Delete a specific memory.\n\nArgs:\n    memory_id: Memory ID to delete\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n\nReturns:\n    Success message",
        "operationId": "delete_memory_api_memory_memory__memory_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "memory_id",
            "required": true,
            "schema": {
              "title": "Memory Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Delete Memory Api Memory Memory  Memory Id  Delete",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Memory",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/preference": {
      "post": {
        "description": "Add or update a single user preference.\n\nArgs:\n    key: Preference key\n    value: Preference value\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n    response: Response object for SlowAPI header injection\n    category: Preference category\n    request: Raw HTTP request (required by SlowAPI limiter)\n\nReturns:\n    Updated preference",
        "operationId": "add_preference_api_memory_preference_post",
        "parameters": [
          {
            "in": "query",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "value",
            "required": true,
            "schema": {
              "title": "Value",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "category",
            "required": false,
            "schema": {
              "default": "general",
              "title": "Category",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Add Preference Api Memory Preference Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Add Preference",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/preferences": {
      "put": {
        "description": "Update user preferences.\n\nArgs:\n    payload: Preferences update request\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n\nReturns:\n    Updated preferences",
        "operationId": "update_preferences_api_memory_preferences_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePreferencesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Update Preferences Api Memory Preferences Put",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Preferences",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/search": {
      "post": {
        "description": "Search user memories.\n\nArgs:\n    payload: Search request\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n    response: Response object for SlowAPI header injection\n    request: Raw HTTP request (required by SlowAPI limiter)\n\nReturns:\n    List of matching memories",
        "operationId": "search_memories_api_memory_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchMemoryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MemorySearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Memories",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/memory/stats": {
      "get": {
        "description": "Get memory statistics for the user.\n\nArgs:\n    principal: Current authenticated principal\n    memory_service: Unified memory service\n\nReturns:\n    Memory statistics",
        "operationId": "get_memory_stats_api_memory_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Memory Stats Api Memory Stats Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Memory Stats",
        "tags": [
          "memory",
          "memory"
        ]
      }
    },
    "/api/search/analytics": {
      "get": {
        "description": "Get search analytics for a specific date.\n\nOnly available to authenticated users for their own analytics.",
        "operationId": "get_search_analytics_api_search_analytics_get",
        "parameters": [
          {
            "description": "Date in YYYY-MM-DD format",
            "in": "query",
            "name": "date",
            "required": true,
            "schema": {
              "description": "Date in YYYY-MM-DD format",
              "title": "Date",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchAnalyticsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Search Analytics",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/bulk": {
      "post": {
        "description": "Perform multiple searches in a single request for efficiency.\n\nUseful for comparing multiple destinations or search variations.\nResults are processed in parallel for optimal performance.",
        "operationId": "bulk_search_api_search_bulk_post",
        "parameters": [
          {
            "description": "Whether to use cached results",
            "in": "query",
            "name": "use_cache",
            "required": false,
            "schema": {
              "default": true,
              "description": "Whether to use cached results",
              "title": "Use Cache",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "$ref": "#/components/schemas/UnifiedSearchRequest"
                },
                "title": "Requests",
                "type": "array"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UnifiedSearchAggregateResponse"
                  },
                  "title": "Response Bulk Search Api Search Bulk Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Bulk Search",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/recent": {
      "get": {
        "description": "Get recent searches for the authenticated user.\n\nReturns the user's search history ordered by most recent first.",
        "operationId": "get_recent_searches_api_search_recent_get",
        "parameters": [
          {
            "description": "Maximum number of searches to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum number of searches to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Recent Searches Api Search Recent Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Recent Searches",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/save": {
      "post": {
        "description": "Save a search query for the authenticated user.\n\nSaves the search parameters to the user's search history for\nquick access and personalization.",
        "operationId": "save_search_api_search_save_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnifiedSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Save Search Api Search Save Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Save Search",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/saved/{search_id}": {
      "delete": {
        "description": "Delete a saved search for the authenticated user.\n\nRemoves the specified search from the user's search history.",
        "operationId": "delete_saved_search_api_search_saved__search_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "search_id",
            "required": true,
            "schema": {
              "title": "Search Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Saved Search",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/suggest": {
      "get": {
        "description": "Get search suggestions based on partial query.\n\nThis endpoint provides intelligent search suggestions including popular\ndestinations, activity types, and common search patterns to help users\ndiscover travel options.",
        "operationId": "search_suggestions_api_search_suggest_get",
        "parameters": [
          {
            "description": "Partial search query",
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "description": "Partial search query",
              "maxLength": 100,
              "minLength": 1,
              "title": "Query",
              "type": "string"
            }
          },
          {
            "description": "Maximum number of suggestions",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Maximum number of suggestions",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "string"
                  },
                  "title": "Response Search Suggestions Api Search Suggest Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Suggestions",
        "tags": [
          "search"
        ]
      }
    },
    "/api/search/unified": {
      "post": {
        "description": "Perform a unified search across multiple resource types with caching.\n\nThis endpoint searches across destinations, activities, accommodations,\nand flights (when applicable) to provide travel search results.\nResults are aggregated, filtered, sorted, and cached for performance.",
        "operationId": "unified_search_api_search_unified_post",
        "parameters": [
          {
            "description": "Whether to use cached results",
            "in": "query",
            "name": "use_cache",
            "required": false,
            "schema": {
              "default": true,
              "description": "Whether to use cached results",
              "title": "Use Cache",
              "type": "boolean"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnifiedSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnifiedSearchAggregateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Unified Search",
        "tags": [
          "search"
        ]
      }
    },
    "/api/trips/": {
      "get": {
        "description": "List trips for the current user.\n\nArgs:\n    skip: Number of trips to skip\n    limit: Number of trips to return\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    List of trips",
        "operationId": "list_trips_api_trips__get",
        "parameters": [
          {
            "description": "Number of trips to skip",
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Number of trips to skip",
              "minimum": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "description": "Number of trips to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Number of trips to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Trips",
        "tags": [
          "trips",
          "trips"
        ]
      },
      "post": {
        "description": "Create a new trip.\n\nArgs:\n    trip_request: Trip creation request\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Created trip",
        "operationId": "create_trip_api_trips__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTripRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Trip",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/search": {
      "get": {
        "description": "Search trips.\n\nArgs:\n    q: Search query\n    params: Query parameters (q, status, skip, limit)\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Search results",
        "operationId": "search_trips_api_trips_search_get",
        "parameters": [
          {
            "description": "Search query",
            "in": "query",
            "name": "q",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query",
              "title": "Q"
            }
          },
          {
            "description": "Status filter",
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Status filter",
              "title": "Status"
            }
          },
          {
            "description": "Number of trips to skip",
            "in": "query",
            "name": "skip",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Number of trips to skip",
              "minimum": 0,
              "title": "Skip",
              "type": "integer"
            }
          },
          {
            "description": "Number of trips to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Number of trips to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Trips",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/suggestions": {
      "get": {
        "description": "Get personalized trip suggestions based on user preferences and history.\n\nArgs:\n    limit: Maximum number of suggestions to return\n    budget_max: Optional maximum budget filter\n    category: Optional category filter\n    principal: Current authenticated principal\n    memory_service: Injected memory service\n\nReturns:\n    List of trip suggestions",
        "operationId": "get_trip_suggestions_api_trips_suggestions_get",
        "parameters": [
          {
            "description": "Number of suggestions to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Number of suggestions to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Maximum budget filter",
            "in": "query",
            "name": "budget_max",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum budget filter",
              "title": "Budget Max"
            }
          },
          {
            "description": "Filter by category",
            "in": "query",
            "name": "category",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TripSuggestionResponse"
                  },
                  "title": "Response Get Trip Suggestions Api Trips Suggestions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trip Suggestions",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}": {
      "delete": {
        "description": "Delete a trip.\n\nArgs:\n    trip_id: Trip ID\n    principal: Current authenticated principal\n    trip_service: Trip service instance",
        "operationId": "delete_trip_api_trips__trip_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Trip",
        "tags": [
          "trips",
          "trips"
        ]
      },
      "get": {
        "description": "Get a trip by ID.\n\nArgs:\n    trip_id: Trip ID\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Trip details",
        "operationId": "get_trip_api_trips__trip_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trip",
        "tags": [
          "trips",
          "trips"
        ]
      },
      "put": {
        "description": "Update a trip.\n\nArgs:\n    trip_id: Trip ID\n    trip_request: Trip update request\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Updated trip",
        "operationId": "update_trip_api_trips__trip_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTripRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Trip",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/collaborators": {
      "get": {
        "description": "List all collaborators for a trip.\n\nAccessible by trip owner and collaborators with appropriate permissions.\n\nArgs:\n    trip_id: Trip ID\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n    user_service: User service used to hydrate collaborator metadata\n\nReturns:\n    List of trip collaborators with their permissions\n\nRaises:\n    HTTPException: If not authorized or trip not found",
        "operationId": "list_trip_collaborators_api_trips__trip_id__collaborators_get",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripCollaboratorsListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Trip Collaborators",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/collaborators/{user_id}": {
      "delete": {
        "description": "Remove a collaborator from a trip.\n\nOnly the trip owner can remove collaborators.\n\nArgs:\n    trip_id: Trip ID\n    user_id: Collaborator user ID to remove\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nRaises:\n    HTTPException: If not authorized or collaborator not found",
        "operationId": "remove_collaborator_api_trips__trip_id__collaborators__user_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "User Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Remove Collaborator",
        "tags": [
          "trips",
          "trips"
        ]
      },
      "put": {
        "description": "Update collaborator permissions for a trip.\n\nOnly the trip owner can update collaborator permissions.\n\nArgs:\n    trip_id: Trip ID\n    user_id: Collaborator user ID to update\n    update_request: New permission level\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n    user_service: User service used to fetch collaborator details\n\nReturns:\n    Updated collaborator information\n\nRaises:\n    HTTPException: If not authorized or collaborator not found",
        "operationId": "update_collaborator_permissions_api_trips__trip_id__collaborators__user_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "User Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TripCollaboratorUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripCollaboratorResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Collaborator Permissions",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/duplicate": {
      "post": {
        "description": "Duplicate a trip.\n\nArgs:\n    trip_id: Trip ID to duplicate\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Duplicated trip",
        "operationId": "duplicate_trip_api_trips__trip_id__duplicate_post",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Duplicate Trip",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/export": {
      "post": {
        "description": "Export trip.\n\nArgs:\n    trip_id: Trip ID\n    export_format: Export format requested by the caller\n    format_: Optional keyword alias used by some internal tests\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Export data",
        "operationId": "export_trip_api_trips__trip_id__export_post",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          },
          {
            "description": "Export format",
            "in": "query",
            "name": "export_format",
            "required": false,
            "schema": {
              "default": "pdf",
              "description": "Export format",
              "title": "Export Format",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "format_",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Format "
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/_ExportResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Export Trip",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/itinerary": {
      "get": {
        "description": "Get trip itinerary.\n\nArgs:\n    trip_id: Trip ID\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Trip itinerary",
        "operationId": "get_trip_itinerary_api_trips__trip_id__itinerary_get",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/_ItineraryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trip Itinerary",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/preferences": {
      "put": {
        "description": "Update trip preferences.\n\nArgs:\n    trip_id: Trip ID\n    preferences_request: Trip preferences update request\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Updated trip",
        "operationId": "update_trip_preferences_api_trips__trip_id__preferences_put",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TripPreferencesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Trip Preferences",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/share": {
      "post": {
        "description": "Share a trip with other users.\n\nOnly the trip owner can share their trip with others.\n\nArgs:\n    trip_id: Trip ID\n    share_request: Share request with user emails and permissions\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n    user_service: User service used to resolve collaborator identities\n\nReturns:\n    List of successfully added collaborators\n\nRaises:\n    HTTPException: If not authorized or trip not found",
        "operationId": "share_trip_api_trips__trip_id__share_post",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TripShareRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TripCollaboratorResponse"
                  },
                  "title": "Response Share Trip Api Trips  Trip Id  Share Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Share Trip",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/trips/{trip_id}/summary": {
      "get": {
        "description": "Get trip summary.\n\nArgs:\n    trip_id: Trip ID\n    principal: Current authenticated principal\n    trip_service: Trip service instance\n\nReturns:\n    Trip summary",
        "operationId": "get_trip_summary_api_trips__trip_id__summary_get",
        "parameters": [
          {
            "in": "path",
            "name": "trip_id",
            "required": true,
            "schema": {
              "format": "uuid",
              "title": "Trip Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TripSummaryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Trip Summary",
        "tags": [
          "trips",
          "trips"
        ]
      }
    },
    "/api/user/keys": {
      "get": {
        "description": "List all API keys for the current user.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    key_service: Injected key service\n\nReturns:\n    List of API keys",
        "operationId": "list_keys_api_user_keys_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ApiKeyResponse"
                  },
                  "title": "Response List Keys Api User Keys Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List API keys",
        "tags": []
      },
      "post": {
        "description": "Create a new API key.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    key_data: API key data\n    principal: Current authenticated principal\n    key_service: Injected key service\n\nReturns:\n    The created API key\n\nRaises:\n    HTTPException: If the key is invalid",
        "operationId": "create_key_api_user_keys_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApiKeyCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create a new API key",
        "tags": []
      }
    },
    "/api/user/keys/audit": {
      "get": {
        "description": "Get API key audit log for a user.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n    limit: Maximum number of entries to return\n    monitoring_service: Key monitoring service\n\nReturns:\n    List of audit log entries",
        "operationId": "get_audit_log_api_user_keys_audit_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "additionalProperties": true,
                    "type": "object"
                  },
                  "title": "Response Get Audit Log Api User Keys Audit Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get API key audit log",
        "tags": []
      }
    },
    "/api/user/keys/metrics": {
      "get": {
        "description": "Get API key health metrics.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    principal: Current authenticated principal\n\nReturns:\n    Key health metrics",
        "operationId": "get_metrics_api_user_keys_metrics_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Metrics Api User Keys Metrics Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get API key metrics",
        "tags": []
      }
    },
    "/api/user/keys/validate": {
      "post": {
        "description": "Validate an API key with the service.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    key_data: API key data\n    principal: Current authenticated principal\n    key_service: Injected key service\n\nReturns:\n    Validation result",
        "operationId": "validate_key_api_user_keys_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApiKeyValidateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyValidateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Validate an API key",
        "tags": []
      }
    },
    "/api/user/keys/{key_id}": {
      "delete": {
        "description": "Delete an API key.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    key_service: Injected key service\n    principal: Current authenticated principal\n    key_id: The API key ID\n\nRaises:\n    HTTPException: If the key is not found or does not belong to the user",
        "operationId": "delete_key_api_user_keys__key_id__delete",
        "parameters": [
          {
            "description": "The API key ID",
            "in": "path",
            "name": "key_id",
            "required": true,
            "schema": {
              "description": "The API key ID",
              "title": "Key Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete an API key",
        "tags": []
      }
    },
    "/api/user/keys/{key_id}/rotate": {
      "post": {
        "description": "Rotate an API key.\n\nArgs:\n    request: Raw HTTP request (required by SlowAPI for headers)\n    response: Raw HTTP response (required by SlowAPI for headers)\n    key_data: New API key data\n    key_id: The API key ID\n    principal: Current authenticated principal\n    key_service: Injected key service\n\nReturns:\n    The updated API key\n\nRaises:\n    HTTPException: If the key is not found or does not belong to the user",
        "operationId": "rotate_key_api_user_keys__key_id__rotate_post",
        "parameters": [
          {
            "description": "The API key ID",
            "in": "path",
            "name": "key_id",
            "required": true,
            "schema": {
              "description": "The API key ID",
              "title": "Key Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApiKeyRotateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Rotate an API key",
        "tags": []
      }
    },
    "/api/users/preferences": {
      "get": {
        "description": "Get the authenticated user's preferences.\n\nArgs:\n    principal: Authenticated principal from JWT or API key\n    user_service: Injected user service\n\nReturns:\n    UserPreferencesResponse: The user's preferences\n\nRaises:\n    HTTPException: If user is not found",
        "operationId": "get_user_preferences_api_users_preferences_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get User Preferences",
        "tags": [
          "users"
        ]
      },
      "put": {
        "description": "Update the authenticated user's preferences.\n\nThis endpoint performs a partial update, merging the provided\npreferences with existing ones.\n\nArgs:\n    preferences_request: New preferences to set\n    principal: Authenticated principal from JWT or API key\n    user_service: Injected user service\n\nReturns:\n    UserPreferencesResponse: The updated preferences\n\nRaises:\n    HTTPException: If update fails",
        "operationId": "update_user_preferences_api_users_preferences_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserPreferencesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update User Preferences",
        "tags": [
          "users"
        ]
      }
    }
  },
  "tags": [
    {
      "description": "Health check and monitoring endpoints",
      "name": "health"
    },
    {
      "description": "Authentication endpoints for user registration, login, and JWT token management. Primary authentication method for frontend consumers.",
      "name": "auth"
    },
    {
      "description": "Trip planning and management endpoints. Supports travel itinerary creation and optimization.",
      "name": "trips"
    },
    {
      "description": "Flight search and booking endpoints with multi-provider support. Includes price tracking, route optimization, and booking management.",
      "name": "flights"
    },
    {
      "description": "Accommodation search and booking endpoints. Supports hotels and alternative lodging with MCP integration for enhanced search capabilities.",
      "name": "accommodations"
    },
    {
      "description": "Destination research endpoints with AI-powered insights. Provides destination information, weather, and recommendations.",
      "name": "destinations"
    },
    {
      "description": "Itinerary building and optimization endpoints. Intelligent trip scheduling with route optimization and activity coordination.",
      "name": "itineraries"
    },
    {
      "description": "Chat and conversation endpoints for AI agent interaction. Supports session management and conversation history for both frontend and agent consumers.",
      "name": "chat"
    },
    {
      "description": "Memory and context management endpoints. Provides persistent conversation memory, user preference learning, and contextual retrieval for AI agents.",
      "name": "memory"
    },
    {
      "description": "File upload and processing endpoints. Supports travel document analysis, image processing, and document extraction with AI-powered insights.",
      "name": "attachments"
    },
    {
      "description": "Endpoints optimized for frontend consumers with UI-friendly responses, pagination, and user experience enhancements.",
      "name": "frontend"
    },
    {
      "description": "Endpoints optimized for AI agent consumers with rich context data, tool integration metadata, and enhanced rate limits.",
      "name": "agents"
    }
  ]
}